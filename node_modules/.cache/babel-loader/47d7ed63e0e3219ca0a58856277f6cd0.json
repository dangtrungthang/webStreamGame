{"ast":null,"code":"\"use strict\";\n/**\r\n * PromiseDefer.ts\r\n *\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT license.\r\n *\r\n * Creates a deferral object that wraps promises with easier to use type-safety\r\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Defer = void 0;\n\nvar Timers_1 = require(\"./Timers\");\n\nvar Defer =\n/** @class */\nfunction () {\n  function Defer() {\n    var _this = this;\n\n    this._promise = new Promise(function (res, rej) {\n      _this._resolver = res;\n      _this._rejector = rej;\n    });\n  }\n\n  Defer.prototype.resolve = function (value) {\n    var _this = this; // Resolver shouldn't be undefined, but it's technically possible\n\n\n    if (!this._resolver) {\n      Timers_1.default.setTimeout(function () {\n        _this.resolve(value);\n      }, 10);\n      return;\n    }\n\n    this._resolver(value);\n  };\n\n  Defer.prototype.reject = function (value) {\n    var _this = this; // Rejector shouldn't be undefined, but it's technically possible\n\n\n    if (!this._rejector) {\n      Timers_1.default.setTimeout(function () {\n        _this.reject(value);\n      }, 10);\n      return;\n    }\n\n    this._rejector(value);\n  };\n\n  Defer.prototype.promise = function () {\n    return this._promise;\n  };\n\n  return Defer;\n}();\n\nexports.Defer = Defer;","map":{"version":3,"sources":["/Users/trungthang/Documents/webStreamGame/node_modules/react-ult/dist/common/utils/PromiseDefer.js"],"names":["Object","defineProperty","exports","value","Defer","Timers_1","require","_this","_promise","Promise","res","rej","_resolver","_rejector","prototype","resolve","default","setTimeout","reject","promise"],"mappings":"AAAA;AACA;;;;;;;;;AAQAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,KAAR,GAAgB,KAAK,CAArB;;AACA,IAAIC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,IAAIF,KAAK;AAAG;AAAe,YAAY;AACnC,WAASA,KAAT,GAAiB;AACb,QAAIG,KAAK,GAAG,IAAZ;;AACA,SAAKC,QAAL,GAAgB,IAAIC,OAAJ,CAAY,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC5CJ,MAAAA,KAAK,CAACK,SAAN,GAAkBF,GAAlB;AACAH,MAAAA,KAAK,CAACM,SAAN,GAAkBF,GAAlB;AACH,KAHe,CAAhB;AAIH;;AACDP,EAAAA,KAAK,CAACU,SAAN,CAAgBC,OAAhB,GAA0B,UAAUZ,KAAV,EAAiB;AACvC,QAAII,KAAK,GAAG,IAAZ,CADuC,CAEvC;;;AACA,QAAI,CAAC,KAAKK,SAAV,EAAqB;AACjBP,MAAAA,QAAQ,CAACW,OAAT,CAAiBC,UAAjB,CAA4B,YAAY;AACpCV,QAAAA,KAAK,CAACQ,OAAN,CAAcZ,KAAd;AACH,OAFD,EAEG,EAFH;AAGA;AACH;;AACD,SAAKS,SAAL,CAAeT,KAAf;AACH,GAVD;;AAWAC,EAAAA,KAAK,CAACU,SAAN,CAAgBI,MAAhB,GAAyB,UAAUf,KAAV,EAAiB;AACtC,QAAII,KAAK,GAAG,IAAZ,CADsC,CAEtC;;;AACA,QAAI,CAAC,KAAKM,SAAV,EAAqB;AACjBR,MAAAA,QAAQ,CAACW,OAAT,CAAiBC,UAAjB,CAA4B,YAAY;AACpCV,QAAAA,KAAK,CAACW,MAAN,CAAaf,KAAb;AACH,OAFD,EAEG,EAFH;AAGA;AACH;;AACD,SAAKU,SAAL,CAAeV,KAAf;AACH,GAVD;;AAWAC,EAAAA,KAAK,CAACU,SAAN,CAAgBK,OAAhB,GAA0B,YAAY;AAClC,WAAO,KAAKX,QAAZ;AACH,GAFD;;AAGA,SAAOJ,KAAP;AACH,CAlC0B,EAA3B;;AAmCAF,OAAO,CAACE,KAAR,GAAgBA,KAAhB","sourcesContent":["\"use strict\";\r\n/**\r\n * PromiseDefer.ts\r\n *\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT license.\r\n *\r\n * Creates a deferral object that wraps promises with easier to use type-safety\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Defer = void 0;\r\nvar Timers_1 = require(\"./Timers\");\r\nvar Defer = /** @class */ (function () {\r\n    function Defer() {\r\n        var _this = this;\r\n        this._promise = new Promise(function (res, rej) {\r\n            _this._resolver = res;\r\n            _this._rejector = rej;\r\n        });\r\n    }\r\n    Defer.prototype.resolve = function (value) {\r\n        var _this = this;\r\n        // Resolver shouldn't be undefined, but it's technically possible\r\n        if (!this._resolver) {\r\n            Timers_1.default.setTimeout(function () {\r\n                _this.resolve(value);\r\n            }, 10);\r\n            return;\r\n        }\r\n        this._resolver(value);\r\n    };\r\n    Defer.prototype.reject = function (value) {\r\n        var _this = this;\r\n        // Rejector shouldn't be undefined, but it's technically possible\r\n        if (!this._rejector) {\r\n            Timers_1.default.setTimeout(function () {\r\n                _this.reject(value);\r\n            }, 10);\r\n            return;\r\n        }\r\n        this._rejector(value);\r\n    };\r\n    Defer.prototype.promise = function () {\r\n        return this._promise;\r\n    };\r\n    return Defer;\r\n}());\r\nexports.Defer = Defer;\r\n"]},"metadata":{},"sourceType":"script"}