{"ast":null,"code":"\"use strict\";\n/**\r\n * CustomScrollbar.ts\r\n *\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT license.\r\n *\r\n * Custom scrollbar implementation for web.\r\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scrollbar = void 0;\n\nvar assert_1 = require(\"../common/assert\");\n\nvar Timers_1 = require(\"../common/utils/Timers\");\n\nvar UNIT = 'px';\nvar SCROLLER_MIN_SIZE = 15;\nvar SCROLLER_NEGATIVE_MARGIN = 30;\nvar NEUTRAL_OVERRIDE_CLASS = 'neutraloverride';\n\nvar _nativeSrollBarWidth = -1;\n\nvar _isStyleSheetInstalled = false;\nvar _customScrollbarCss = \"\\n    .rxCustomScroll .scrollViewport > * {\\n        box-sizing: border-box;\\n        display: block;\\n    }\\n    .rxCustomScroll .rail {\\n        position: absolute;\\n        border-radius: 4px;\\n        opacity: 0;\\n        background-color: transparent;\\n        transition-delay: 0, 0;\\n        transition-duration: .2s, .2s;\\n        transition-property: background-color, opacity;\\n        transition-timing-function: linear, linear;\\n        display: none;\\n        box-sizing: border-box;\\n    }\\n    .rxCustomScroll .rail:hover {\\n        background-color: #EEE;\\n        border-color: #EEE;\\n        opacity: .9;\\n        border-radius: 6px;\\n    }\\n    .rxCustomScroll .rail:hover .slider {\\n        border-radius: 6px;\\n    }\\n    .rxCustomScroll .rail .slider {\\n        position: absolute;\\n        border-radius: 4px;\\n        background: #555;\\n        box-sizing: border-box;\\n        border: 1px solid #555;\\n    }\\n    .rxCustomScroll:not(.neutraloverride) > .scrollViewportV > * {\\n        margin-right: em(-17px) !important;\\n    }\\n    .rxCustomScroll .railV {\\n        top: 0;\\n        bottom: 0;\\n        right: 3px;\\n        width: 8px;\\n    }\\n    .rxCustomScroll .railV .slider {\\n        top: 10px;\\n        width: 8px;\\n        min-height: 15px;\\n    }\\n    .rxCustomScroll .railV.railBoth {\\n        bottom: 15px;\\n    }\\n    .rxCustomScroll .railH {\\n        left: 0;\\n        right: 0;\\n        bottom: 3px;\\n        height: 8px;\\n    }\\n    .rxCustomScroll .railH .slider {\\n        left: 10px;\\n        top: -1px;\\n        height: 8px;\\n        min-width: 15px;\\n    }\\n    .rxCustomScroll .railH.railBoth {\\n        right: 15px;\\n    }\\n    .rxCustomScroll.active .rail {\\n        display: block;\\n    }\\n    .rxCustomScroll:hover .rail {\\n        opacity: .6;\\n    }\\n    .rxCustomScroll:hover .rail .slider {\\n        background: #AAA;\\n        border-color: #AAA;\\n    }\\n    .rxCustomScroll.rxCustomScrollH {\\n        width: auto;\\n    }\\n    .rxCustomScroll.rxCustomScrollV {\\n        width: 100%;\\n    }\\n    .rxCustomScroll.scrolling .rail {\\n        background-color: #EEE;\\n        border-color: #EEE;\\n        opacity: .9;\\n        border-radius: 6px;\\n    }\\n    .rxCustomScroll.scrolling .rail .slider {\\n        border-radius: 6px;\\n        background: #AAA;\\n        border-color: #AAA;\\n    }\\n    .rxCustomScroll.scrolling .scrollViewport > * {\\n        pointer-events: none !important;\\n    }\\n    .rxCustomScroll.scrolling .railV {\\n        width: 12px;\\n    }\\n    .rxCustomScroll.scrolling .railV .slider {\\n        width: 12px;\\n    }\\n    .rxCustomScroll.scrolling .railH {\\n        height: 12px;\\n    }\\n    .rxCustomScroll.scrolling .railH .slider {\\n        height: 12px;\\n    }\\n    .rxCustomScroll .railV:hover {\\n        width: 12px;\\n    }\\n    .rxCustomScroll .railV:hover .slider {\\n        width: 12px;\\n    }\\n    .rxCustomScroll .railH:hover {\\n        height: 12px;\\n    }\\n    .rxCustomScroll .railH:hover .slider {\\n        height: 12px;\\n    }\\n\";\n\nvar Scrollbar =\n/** @class */\nfunction () {\n  function Scrollbar(container) {\n    this._verticalBar = {};\n    this._horizontalBar = {};\n    this._dragging = false;\n    this._dragIsVertical = false;\n    this._scrollingVisible = false;\n    this._hasHorizontal = false;\n    this._hasVertical = true;\n    this._hasHiddenScrollbar = false;\n    this._stopDragCallback = this._stopDrag.bind(this);\n    this._startDragVCallback = this._startDrag.bind(this, true);\n    this._startDragHCallback = this._startDrag.bind(this, false);\n    this._handleDragCallback = this._handleDrag.bind(this);\n    this._handleWheelCallback = this._handleWheel.bind(this);\n    this._handleMouseDownCallback = this._handleMouseDown.bind(this);\n    this._updateCallback = this.update.bind(this);\n    assert_1.default(container, 'Container must not be null');\n    this._container = container;\n  }\n\n  Scrollbar.getNativeScrollbarWidth = function () {\n    // Have we cached the value alread?\n    if (_nativeSrollBarWidth >= 0) {\n      return _nativeSrollBarWidth;\n    }\n\n    var inner = document.createElement('p');\n    inner.style.width = '100%';\n    inner.style.height = '100%';\n    var outer = document.createElement('div');\n    outer.style.position = 'absolute';\n    outer.style.top = '0';\n    outer.style.left = '0';\n    outer.style.visibility = 'hidden';\n    outer.style.width = '100px';\n    outer.style.height = '100px';\n    outer.style.overflow = 'hidden';\n    outer.appendChild(inner);\n    document.body.appendChild(outer);\n    var w1 = inner.offsetWidth;\n    outer.style.overflow = 'scroll';\n    var w2 = inner.offsetWidth;\n\n    if (w1 === w2) {\n      w2 = outer.clientWidth;\n    }\n\n    document.body.removeChild(outer);\n    _nativeSrollBarWidth = w1 - w2;\n    return _nativeSrollBarWidth;\n  };\n\n  Scrollbar._installStyleSheet = function () {\n    // Have we installed the style sheet already?\n    if (_isStyleSheetInstalled) {\n      return;\n    } // We set the CSS style sheet here to avoid the need\n    // for users of this class to carry along another CSS\n    // file.\n\n\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var style = document.createElement('style');\n    style.type = 'text/css';\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = _customScrollbarCss;\n    } else {\n      style.appendChild(document.createTextNode(_customScrollbarCss));\n    }\n\n    head.appendChild(style);\n    _isStyleSheetInstalled = true;\n  };\n\n  Scrollbar.prototype._tryLtrOverride = function () {\n    var rtlbox = document.createElement('div');\n    rtlbox.style.cssText = 'position: absolute; overflow-y: scroll; width: 30px; visibility: hidden;';\n    rtlbox.innerHTML = '<div class=\"probe\"></div>';\n\n    this._container.appendChild(rtlbox);\n\n    var probe = rtlbox.querySelector('.probe');\n    var rtlboxRect = rtlbox.getBoundingClientRect();\n    var probeRect = probe.getBoundingClientRect();\n    var isLeftBound = rtlboxRect.left === probeRect.left;\n    var isRightBound = rtlboxRect.right === probeRect.right;\n    var isNeutral = isLeftBound && isRightBound;\n\n    this._container.classList.remove(NEUTRAL_OVERRIDE_CLASS);\n\n    if (isNeutral) {\n      this._container.classList.add(NEUTRAL_OVERRIDE_CLASS);\n    }\n\n    rtlbox.innerHTML = '';\n\n    this._container.removeChild(rtlbox);\n  };\n\n  Scrollbar.prototype._prevent = function (e) {\n    e.preventDefault();\n  };\n\n  Scrollbar.prototype._updateSliders = function () {\n    if (this._hasHorizontal) {\n      // Read from DOM before we write back\n      var newSliderWidth = this._horizontalBar.sliderSize + UNIT;\n      var newSliderLeft = this._viewport.scrollLeft * this._horizontalBar.scroll2Slider + UNIT;\n      this._horizontalBar.slider.style.width = newSliderWidth;\n      this._horizontalBar.slider.style.left = newSliderLeft;\n    }\n\n    if (this._hasVertical) {\n      // Read from DOM before we write back\n      var newSliderHeight = this._verticalBar.sliderSize + UNIT;\n      var newSliderTop = this._viewport.scrollTop * this._verticalBar.scroll2Slider + UNIT;\n      this._verticalBar.slider.style.height = newSliderHeight;\n      this._verticalBar.slider.style.top = newSliderTop;\n    }\n  };\n\n  Scrollbar.prototype._handleDrag = function (e) {\n    if (this._dragIsVertical) {\n      this._viewport.scrollTop = (e.pageY - this._verticalBar.dragOffset) * this._verticalBar.slider2Scroll;\n    } else {\n      this._viewport.scrollLeft = (e.pageX - this._horizontalBar.dragOffset) * this._horizontalBar.slider2Scroll;\n    }\n  };\n\n  Scrollbar.prototype._startDrag = function (dragIsVertical, e) {\n    if (!this._dragging) {\n      window.addEventListener('mouseup', this._stopDragCallback);\n      window.addEventListener('mousemove', this._handleDragCallback);\n\n      this._container.classList.add('scrolling');\n\n      if (this._hasHorizontal) {\n        this._horizontalBar.dragOffset = e.pageX - this._horizontalBar.slider.offsetLeft;\n      }\n\n      if (this._hasVertical) {\n        this._verticalBar.dragOffset = e.pageY - this._verticalBar.slider.offsetTop;\n      }\n\n      this._dragging = true;\n      this._dragIsVertical = dragIsVertical;\n    }\n\n    this._prevent(e);\n  };\n\n  Scrollbar.prototype._stopDrag = function () {\n    this._container.classList.remove('scrolling');\n\n    window.removeEventListener('mouseup', this._stopDragCallback);\n    window.removeEventListener('mousemove', this._handleDragCallback);\n    this._dragging = false;\n  };\n\n  Scrollbar.prototype._handleWheel = function (e) {\n    // Always prefer the vertical axis if present. User can override with the control key.\n    if (this._hasVertical) {\n      this._viewport.scrollTop = this._normalizeDelta(e) + this._viewport.scrollTop;\n    } else if (this._hasHorizontal) {\n      this._viewport.scrollLeft = this._normalizeDelta(e) + this._viewport.scrollLeft;\n    }\n  };\n\n  Scrollbar.prototype._handleMouseDown = function (e) {\n    var target = e.currentTarget;\n\n    if (this._dragging || !target) {\n      this._prevent(e);\n\n      return;\n    }\n\n    if (this._hasVertical) {\n      var eventOffsetY = e.pageY - target.getBoundingClientRect().top;\n      var halfHeight = this._verticalBar.slider.offsetHeight / 2;\n      var offsetY = (eventOffsetY - this._verticalBar.slider.offsetTop - halfHeight) * this._verticalBar.slider2Scroll;\n      this._viewport.scrollTop = offsetY + this._viewport.scrollTop;\n    }\n\n    if (this._hasHorizontal) {\n      var eventOffsetX = e.pageX - target.getBoundingClientRect().left;\n      var halfWidth = this._horizontalBar.slider.offsetWidth / 2;\n      var offsetX = (eventOffsetX - this._horizontalBar.slider.offsetLeft - halfWidth) * this._horizontalBar.slider2Scroll;\n      this._viewport.scrollLeft = offsetX + this._viewport.scrollLeft;\n    }\n  };\n\n  Scrollbar.prototype._normalizeDelta = function (e) {\n    if (e.deltaY) {\n      return e.deltaY > 0 ? 100 : -100;\n    }\n\n    var originalEvent = e.originalEvent;\n\n    if (originalEvent && originalEvent.wheelDelta) {\n      return originalEvent.wheelDelta;\n    }\n\n    return 0;\n  };\n\n  Scrollbar.prototype._addListeners = function () {\n    if (this._hasVertical) {\n      this._verticalBar.slider.addEventListener('mousedown', this._startDragVCallback);\n\n      this._verticalBar.rail.addEventListener('wheel', this._handleWheelCallback, {\n        passive: true\n      });\n\n      this._verticalBar.rail.addEventListener('mousedown', this._handleMouseDownCallback);\n    }\n\n    if (this._hasHorizontal) {\n      this._horizontalBar.slider.addEventListener('mousedown', this._startDragHCallback);\n\n      this._horizontalBar.rail.addEventListener('wheel', this._handleWheelCallback, {\n        passive: true\n      });\n\n      this._horizontalBar.rail.addEventListener('mousedown', this._handleMouseDownCallback);\n    }\n  };\n\n  Scrollbar.prototype._removeListeners = function () {\n    if (this._hasVertical) {\n      this._verticalBar.slider.removeEventListener('mousedown', this._startDragVCallback);\n\n      this._verticalBar.rail.removeEventListener('wheel', this._handleWheelCallback);\n\n      this._verticalBar.rail.removeEventListener('mousedown', this._handleMouseDownCallback);\n    }\n\n    if (this._hasHorizontal) {\n      this._horizontalBar.slider.removeEventListener('mousedown', this._startDragHCallback);\n\n      this._horizontalBar.rail.removeEventListener('wheel', this._handleWheelCallback);\n\n      this._horizontalBar.rail.removeEventListener('mousedown', this._handleMouseDownCallback);\n    }\n  };\n\n  Scrollbar.prototype._createDivWithClass = function (className) {\n    var div = document.createElement('div');\n    div.setAttribute('role', 'none');\n    div.className = className;\n    return div;\n  };\n\n  Scrollbar.prototype._addScrollBar = function (scrollbarInfo, railClass, hasBoth) {\n    var slider = this._createDivWithClass('slider');\n\n    scrollbarInfo.rail = this._createDivWithClass('rail ' + railClass + (hasBoth ? ' railBoth' : ''));\n    scrollbarInfo.slider = slider;\n    scrollbarInfo.rail.appendChild(slider);\n\n    this._container.appendChild(scrollbarInfo.rail);\n  };\n\n  Scrollbar.prototype._addScrollbars = function () {\n    var containerClass = this._hasVertical ? 'rxCustomScrollV' : 'rxCustomScrollH';\n\n    if (this._hasVertical) {\n      this._addScrollBar(this._verticalBar, 'railV', this._hasHorizontal);\n    }\n\n    if (this._hasHorizontal) {\n      this._addScrollBar(this._horizontalBar, 'railH', this._hasVertical);\n    }\n\n    this._container.classList.add(containerClass);\n\n    this._container.classList.add('rxCustomScroll');\n\n    this._viewport = this._container.querySelector('.scrollViewport');\n  };\n\n  Scrollbar.prototype._removeScrollbars = function () {\n    if (this._hasVertical) {\n      this._verticalBar.rail.innerHTML = '';\n\n      this._container.removeChild(this._verticalBar.rail);\n    }\n\n    if (this._hasHorizontal) {\n      this._horizontalBar.rail.innerHTML = '';\n\n      this._container.removeChild(this._horizontalBar.rail);\n    }\n  };\n\n  Scrollbar.prototype._calcNewBarSize = function (bar, newSize, newScrollSize, hasBoth) {\n    if (hasBoth || this._hasHiddenScrollbar) {\n      newSize -= SCROLLER_NEGATIVE_MARGIN;\n      newScrollSize -= SCROLLER_NEGATIVE_MARGIN - Scrollbar.getNativeScrollbarWidth();\n    }\n\n    if (newScrollSize !== bar.scrollSize || newSize !== bar.size) {\n      bar.size = newSize;\n      bar.scrollSize = newScrollSize;\n      bar.scroll2Slider = newSize / newScrollSize;\n      bar.sliderSize = newSize * bar.scroll2Slider; // Don't allow the sliders to overlap.\n\n      if (hasBoth) {\n        bar.sliderSize = Math.max(bar.sliderSize - SCROLLER_NEGATIVE_MARGIN + Scrollbar.getNativeScrollbarWidth(), 0);\n      }\n\n      if (bar.sliderSize < SCROLLER_MIN_SIZE) {\n        var railRange = newSize - SCROLLER_MIN_SIZE + bar.sliderSize;\n        bar.scroll2Slider = railRange / newScrollSize;\n        bar.slider2Scroll = newScrollSize / railRange;\n      } else {\n        bar.slider2Scroll = newScrollSize / newSize;\n      }\n    }\n  };\n\n  Scrollbar.prototype._resize = function () {\n    if (this._hasHorizontal) {\n      this._calcNewBarSize(this._horizontalBar, this._viewport.offsetWidth, this._viewport.scrollWidth, this._hasVertical);\n    }\n\n    if (this._hasVertical) {\n      this._calcNewBarSize(this._verticalBar, this._viewport.offsetHeight, this._viewport.scrollHeight, this._hasHorizontal);\n    }\n  };\n\n  Scrollbar.prototype.update = function () {\n    this._resize(); // We add one below to provide a small fudge factor because browsers round their scroll and offset values to the\n    // nearest integer, and IE sometimes ends up returning a scroll and offset value that are off by one.\n\n\n    if (this._verticalBar && this._verticalBar.scrollSize > this._verticalBar.size + 1 || this._horizontalBar && this._horizontalBar.scrollSize > this._horizontalBar.size + 1) {\n      this.show();\n\n      this._updateSliders();\n    } else {\n      this.hide();\n    }\n  };\n\n  Scrollbar.prototype.show = function () {\n    if (!this._scrollingVisible) {\n      this._container.classList.add('active');\n\n      this._addListeners();\n\n      this._scrollingVisible = true;\n    }\n  };\n\n  Scrollbar.prototype.hide = function () {\n    if (this._scrollingVisible) {\n      this._container.classList.remove('active');\n\n      this._removeListeners();\n\n      this._scrollingVisible = false;\n    }\n  };\n\n  Scrollbar.prototype.init = function (options) {\n    var _this = this;\n\n    if (options) {\n      this._hasHorizontal = !!options.horizontal; // Only if vertical is explicitly false as opposed to null, set it to false (default is true)\n\n      if (options.vertical === false) {\n        this._hasVertical = options.vertical;\n      } // Our container may be scrollable even if the corresponding scrollbar is hidden (i.e. vertical\n      // or horizontal is false). We have to take it into account when calculating scroll bar sizes.\n\n\n      this._hasHiddenScrollbar = !!options.hiddenScrollbar;\n    }\n\n    Scrollbar._installStyleSheet();\n\n    this._addScrollbars();\n\n    this.show();\n\n    this._container.addEventListener('mouseenter', this._updateCallback); // Defer remaining init work to avoid triggering sync layout\n\n\n    this._asyncInitTimer = Timers_1.default.setTimeout(function () {\n      _this._asyncInitTimer = undefined;\n\n      _this._tryLtrOverride();\n\n      _this.update();\n    }, 0);\n  };\n\n  Scrollbar.prototype.dispose = function () {\n    if (this._asyncInitTimer) {\n      Timers_1.default.clearInterval(this._asyncInitTimer);\n      this._asyncInitTimer = undefined;\n    }\n\n    this._stopDrag();\n\n    this._container.removeEventListener('mouseenter', this._updateCallback);\n\n    this.hide();\n\n    this._removeScrollbars(); // release DOM nodes\n\n\n    this._container = null;\n    this._viewport = null;\n    this._verticalBar = null;\n    this._horizontalBar = null;\n  };\n\n  return Scrollbar;\n}();\n\nexports.Scrollbar = Scrollbar;\nexports.default = Scrollbar;","map":{"version":3,"sources":["/Users/trungthang/webStreamGame/webStreamGame/node_modules/react-ult/dist/web/CustomScrollbar.js"],"names":["Object","defineProperty","exports","value","Scrollbar","assert_1","require","Timers_1","UNIT","SCROLLER_MIN_SIZE","SCROLLER_NEGATIVE_MARGIN","NEUTRAL_OVERRIDE_CLASS","_nativeSrollBarWidth","_isStyleSheetInstalled","_customScrollbarCss","container","_verticalBar","_horizontalBar","_dragging","_dragIsVertical","_scrollingVisible","_hasHorizontal","_hasVertical","_hasHiddenScrollbar","_stopDragCallback","_stopDrag","bind","_startDragVCallback","_startDrag","_startDragHCallback","_handleDragCallback","_handleDrag","_handleWheelCallback","_handleWheel","_handleMouseDownCallback","_handleMouseDown","_updateCallback","update","default","_container","getNativeScrollbarWidth","inner","document","createElement","style","width","height","outer","position","top","left","visibility","overflow","appendChild","body","w1","offsetWidth","w2","clientWidth","removeChild","_installStyleSheet","head","getElementsByTagName","type","styleSheet","cssText","createTextNode","prototype","_tryLtrOverride","rtlbox","innerHTML","probe","querySelector","rtlboxRect","getBoundingClientRect","probeRect","isLeftBound","isRightBound","right","isNeutral","classList","remove","add","_prevent","e","preventDefault","_updateSliders","newSliderWidth","sliderSize","newSliderLeft","_viewport","scrollLeft","scroll2Slider","slider","newSliderHeight","newSliderTop","scrollTop","pageY","dragOffset","slider2Scroll","pageX","dragIsVertical","window","addEventListener","offsetLeft","offsetTop","removeEventListener","_normalizeDelta","target","currentTarget","eventOffsetY","halfHeight","offsetHeight","offsetY","eventOffsetX","halfWidth","offsetX","deltaY","originalEvent","wheelDelta","_addListeners","rail","passive","_removeListeners","_createDivWithClass","className","div","setAttribute","_addScrollBar","scrollbarInfo","railClass","hasBoth","_addScrollbars","containerClass","_removeScrollbars","_calcNewBarSize","bar","newSize","newScrollSize","scrollSize","size","Math","max","railRange","_resize","scrollWidth","scrollHeight","show","hide","init","options","_this","horizontal","vertical","hiddenScrollbar","_asyncInitTimer","setTimeout","undefined","dispose","clearInterval"],"mappings":"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","sourcesContent":["\"use strict\";\r\n/**\r\n * CustomScrollbar.ts\r\n *\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT license.\r\n *\r\n * Custom scrollbar implementation for web.\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Scrollbar = void 0;\r\nvar assert_1 = require(\"../common/assert\");\r\nvar Timers_1 = require(\"../common/utils/Timers\");\r\nvar UNIT = 'px';\r\nvar SCROLLER_MIN_SIZE = 15;\r\nvar SCROLLER_NEGATIVE_MARGIN = 30;\r\nvar NEUTRAL_OVERRIDE_CLASS = 'neutraloverride';\r\nvar _nativeSrollBarWidth = -1;\r\nvar _isStyleSheetInstalled = false;\r\nvar _customScrollbarCss = \"\\n    .rxCustomScroll .scrollViewport > * {\\n        box-sizing: border-box;\\n        display: block;\\n    }\\n    .rxCustomScroll .rail {\\n        position: absolute;\\n        border-radius: 4px;\\n        opacity: 0;\\n        background-color: transparent;\\n        transition-delay: 0, 0;\\n        transition-duration: .2s, .2s;\\n        transition-property: background-color, opacity;\\n        transition-timing-function: linear, linear;\\n        display: none;\\n        box-sizing: border-box;\\n    }\\n    .rxCustomScroll .rail:hover {\\n        background-color: #EEE;\\n        border-color: #EEE;\\n        opacity: .9;\\n        border-radius: 6px;\\n    }\\n    .rxCustomScroll .rail:hover .slider {\\n        border-radius: 6px;\\n    }\\n    .rxCustomScroll .rail .slider {\\n        position: absolute;\\n        border-radius: 4px;\\n        background: #555;\\n        box-sizing: border-box;\\n        border: 1px solid #555;\\n    }\\n    .rxCustomScroll:not(.neutraloverride) > .scrollViewportV > * {\\n        margin-right: em(-17px) !important;\\n    }\\n    .rxCustomScroll .railV {\\n        top: 0;\\n        bottom: 0;\\n        right: 3px;\\n        width: 8px;\\n    }\\n    .rxCustomScroll .railV .slider {\\n        top: 10px;\\n        width: 8px;\\n        min-height: 15px;\\n    }\\n    .rxCustomScroll .railV.railBoth {\\n        bottom: 15px;\\n    }\\n    .rxCustomScroll .railH {\\n        left: 0;\\n        right: 0;\\n        bottom: 3px;\\n        height: 8px;\\n    }\\n    .rxCustomScroll .railH .slider {\\n        left: 10px;\\n        top: -1px;\\n        height: 8px;\\n        min-width: 15px;\\n    }\\n    .rxCustomScroll .railH.railBoth {\\n        right: 15px;\\n    }\\n    .rxCustomScroll.active .rail {\\n        display: block;\\n    }\\n    .rxCustomScroll:hover .rail {\\n        opacity: .6;\\n    }\\n    .rxCustomScroll:hover .rail .slider {\\n        background: #AAA;\\n        border-color: #AAA;\\n    }\\n    .rxCustomScroll.rxCustomScrollH {\\n        width: auto;\\n    }\\n    .rxCustomScroll.rxCustomScrollV {\\n        width: 100%;\\n    }\\n    .rxCustomScroll.scrolling .rail {\\n        background-color: #EEE;\\n        border-color: #EEE;\\n        opacity: .9;\\n        border-radius: 6px;\\n    }\\n    .rxCustomScroll.scrolling .rail .slider {\\n        border-radius: 6px;\\n        background: #AAA;\\n        border-color: #AAA;\\n    }\\n    .rxCustomScroll.scrolling .scrollViewport > * {\\n        pointer-events: none !important;\\n    }\\n    .rxCustomScroll.scrolling .railV {\\n        width: 12px;\\n    }\\n    .rxCustomScroll.scrolling .railV .slider {\\n        width: 12px;\\n    }\\n    .rxCustomScroll.scrolling .railH {\\n        height: 12px;\\n    }\\n    .rxCustomScroll.scrolling .railH .slider {\\n        height: 12px;\\n    }\\n    .rxCustomScroll .railV:hover {\\n        width: 12px;\\n    }\\n    .rxCustomScroll .railV:hover .slider {\\n        width: 12px;\\n    }\\n    .rxCustomScroll .railH:hover {\\n        height: 12px;\\n    }\\n    .rxCustomScroll .railH:hover .slider {\\n        height: 12px;\\n    }\\n\";\r\nvar Scrollbar = /** @class */ (function () {\r\n    function Scrollbar(container) {\r\n        this._verticalBar = {};\r\n        this._horizontalBar = {};\r\n        this._dragging = false;\r\n        this._dragIsVertical = false;\r\n        this._scrollingVisible = false;\r\n        this._hasHorizontal = false;\r\n        this._hasVertical = true;\r\n        this._hasHiddenScrollbar = false;\r\n        this._stopDragCallback = this._stopDrag.bind(this);\r\n        this._startDragVCallback = this._startDrag.bind(this, true);\r\n        this._startDragHCallback = this._startDrag.bind(this, false);\r\n        this._handleDragCallback = this._handleDrag.bind(this);\r\n        this._handleWheelCallback = this._handleWheel.bind(this);\r\n        this._handleMouseDownCallback = this._handleMouseDown.bind(this);\r\n        this._updateCallback = this.update.bind(this);\r\n        assert_1.default(container, 'Container must not be null');\r\n        this._container = container;\r\n    }\r\n    Scrollbar.getNativeScrollbarWidth = function () {\r\n        // Have we cached the value alread?\r\n        if (_nativeSrollBarWidth >= 0) {\r\n            return _nativeSrollBarWidth;\r\n        }\r\n        var inner = document.createElement('p');\r\n        inner.style.width = '100%';\r\n        inner.style.height = '100%';\r\n        var outer = document.createElement('div');\r\n        outer.style.position = 'absolute';\r\n        outer.style.top = '0';\r\n        outer.style.left = '0';\r\n        outer.style.visibility = 'hidden';\r\n        outer.style.width = '100px';\r\n        outer.style.height = '100px';\r\n        outer.style.overflow = 'hidden';\r\n        outer.appendChild(inner);\r\n        document.body.appendChild(outer);\r\n        var w1 = inner.offsetWidth;\r\n        outer.style.overflow = 'scroll';\r\n        var w2 = inner.offsetWidth;\r\n        if (w1 === w2) {\r\n            w2 = outer.clientWidth;\r\n        }\r\n        document.body.removeChild(outer);\r\n        _nativeSrollBarWidth = w1 - w2;\r\n        return _nativeSrollBarWidth;\r\n    };\r\n    Scrollbar._installStyleSheet = function () {\r\n        // Have we installed the style sheet already?\r\n        if (_isStyleSheetInstalled) {\r\n            return;\r\n        }\r\n        // We set the CSS style sheet here to avoid the need\r\n        // for users of this class to carry along another CSS\r\n        // file.\r\n        var head = document.head || document.getElementsByTagName('head')[0];\r\n        var style = document.createElement('style');\r\n        style.type = 'text/css';\r\n        if (style.styleSheet) {\r\n            style.styleSheet.cssText = _customScrollbarCss;\r\n        }\r\n        else {\r\n            style.appendChild(document.createTextNode(_customScrollbarCss));\r\n        }\r\n        head.appendChild(style);\r\n        _isStyleSheetInstalled = true;\r\n    };\r\n    Scrollbar.prototype._tryLtrOverride = function () {\r\n        var rtlbox = document.createElement('div');\r\n        rtlbox.style.cssText = 'position: absolute; overflow-y: scroll; width: 30px; visibility: hidden;';\r\n        rtlbox.innerHTML = '<div class=\"probe\"></div>';\r\n        this._container.appendChild(rtlbox);\r\n        var probe = rtlbox.querySelector('.probe');\r\n        var rtlboxRect = rtlbox.getBoundingClientRect();\r\n        var probeRect = probe.getBoundingClientRect();\r\n        var isLeftBound = rtlboxRect.left === probeRect.left;\r\n        var isRightBound = rtlboxRect.right === probeRect.right;\r\n        var isNeutral = isLeftBound && isRightBound;\r\n        this._container.classList.remove(NEUTRAL_OVERRIDE_CLASS);\r\n        if (isNeutral) {\r\n            this._container.classList.add(NEUTRAL_OVERRIDE_CLASS);\r\n        }\r\n        rtlbox.innerHTML = '';\r\n        this._container.removeChild(rtlbox);\r\n    };\r\n    Scrollbar.prototype._prevent = function (e) {\r\n        e.preventDefault();\r\n    };\r\n    Scrollbar.prototype._updateSliders = function () {\r\n        if (this._hasHorizontal) {\r\n            // Read from DOM before we write back\r\n            var newSliderWidth = this._horizontalBar.sliderSize + UNIT;\r\n            var newSliderLeft = this._viewport.scrollLeft * this._horizontalBar.scroll2Slider + UNIT;\r\n            this._horizontalBar.slider.style.width = newSliderWidth;\r\n            this._horizontalBar.slider.style.left = newSliderLeft;\r\n        }\r\n        if (this._hasVertical) {\r\n            // Read from DOM before we write back\r\n            var newSliderHeight = this._verticalBar.sliderSize + UNIT;\r\n            var newSliderTop = this._viewport.scrollTop * this._verticalBar.scroll2Slider + UNIT;\r\n            this._verticalBar.slider.style.height = newSliderHeight;\r\n            this._verticalBar.slider.style.top = newSliderTop;\r\n        }\r\n    };\r\n    Scrollbar.prototype._handleDrag = function (e) {\r\n        if (this._dragIsVertical) {\r\n            this._viewport.scrollTop = (e.pageY - this._verticalBar.dragOffset) * this._verticalBar.slider2Scroll;\r\n        }\r\n        else {\r\n            this._viewport.scrollLeft = (e.pageX - this._horizontalBar.dragOffset) * this._horizontalBar.slider2Scroll;\r\n        }\r\n    };\r\n    Scrollbar.prototype._startDrag = function (dragIsVertical, e) {\r\n        if (!this._dragging) {\r\n            window.addEventListener('mouseup', this._stopDragCallback);\r\n            window.addEventListener('mousemove', this._handleDragCallback);\r\n            this._container.classList.add('scrolling');\r\n            if (this._hasHorizontal) {\r\n                this._horizontalBar.dragOffset = e.pageX - this._horizontalBar.slider.offsetLeft;\r\n            }\r\n            if (this._hasVertical) {\r\n                this._verticalBar.dragOffset = e.pageY - this._verticalBar.slider.offsetTop;\r\n            }\r\n            this._dragging = true;\r\n            this._dragIsVertical = dragIsVertical;\r\n        }\r\n        this._prevent(e);\r\n    };\r\n    Scrollbar.prototype._stopDrag = function () {\r\n        this._container.classList.remove('scrolling');\r\n        window.removeEventListener('mouseup', this._stopDragCallback);\r\n        window.removeEventListener('mousemove', this._handleDragCallback);\r\n        this._dragging = false;\r\n    };\r\n    Scrollbar.prototype._handleWheel = function (e) {\r\n        // Always prefer the vertical axis if present. User can override with the control key.\r\n        if (this._hasVertical) {\r\n            this._viewport.scrollTop = this._normalizeDelta(e) + this._viewport.scrollTop;\r\n        }\r\n        else if (this._hasHorizontal) {\r\n            this._viewport.scrollLeft = this._normalizeDelta(e) + this._viewport.scrollLeft;\r\n        }\r\n    };\r\n    Scrollbar.prototype._handleMouseDown = function (e) {\r\n        var target = e.currentTarget;\r\n        if (this._dragging || !target) {\r\n            this._prevent(e);\r\n            return;\r\n        }\r\n        if (this._hasVertical) {\r\n            var eventOffsetY = e.pageY - target.getBoundingClientRect().top;\r\n            var halfHeight = this._verticalBar.slider.offsetHeight / 2;\r\n            var offsetY = (eventOffsetY - this._verticalBar.slider.offsetTop - halfHeight) * this._verticalBar.slider2Scroll;\r\n            this._viewport.scrollTop = offsetY + this._viewport.scrollTop;\r\n        }\r\n        if (this._hasHorizontal) {\r\n            var eventOffsetX = e.pageX - target.getBoundingClientRect().left;\r\n            var halfWidth = this._horizontalBar.slider.offsetWidth / 2;\r\n            var offsetX = (eventOffsetX - this._horizontalBar.slider.offsetLeft - halfWidth) * this._horizontalBar.slider2Scroll;\r\n            this._viewport.scrollLeft = offsetX + this._viewport.scrollLeft;\r\n        }\r\n    };\r\n    Scrollbar.prototype._normalizeDelta = function (e) {\r\n        if (e.deltaY) {\r\n            return e.deltaY > 0 ? 100 : -100;\r\n        }\r\n        var originalEvent = e.originalEvent;\r\n        if (originalEvent && originalEvent.wheelDelta) {\r\n            return originalEvent.wheelDelta;\r\n        }\r\n        return 0;\r\n    };\r\n    Scrollbar.prototype._addListeners = function () {\r\n        if (this._hasVertical) {\r\n            this._verticalBar.slider.addEventListener('mousedown', this._startDragVCallback);\r\n            this._verticalBar.rail.addEventListener('wheel', this._handleWheelCallback, { passive: true });\r\n            this._verticalBar.rail.addEventListener('mousedown', this._handleMouseDownCallback);\r\n        }\r\n        if (this._hasHorizontal) {\r\n            this._horizontalBar.slider.addEventListener('mousedown', this._startDragHCallback);\r\n            this._horizontalBar.rail.addEventListener('wheel', this._handleWheelCallback, { passive: true });\r\n            this._horizontalBar.rail.addEventListener('mousedown', this._handleMouseDownCallback);\r\n        }\r\n    };\r\n    Scrollbar.prototype._removeListeners = function () {\r\n        if (this._hasVertical) {\r\n            this._verticalBar.slider.removeEventListener('mousedown', this._startDragVCallback);\r\n            this._verticalBar.rail.removeEventListener('wheel', this._handleWheelCallback);\r\n            this._verticalBar.rail.removeEventListener('mousedown', this._handleMouseDownCallback);\r\n        }\r\n        if (this._hasHorizontal) {\r\n            this._horizontalBar.slider.removeEventListener('mousedown', this._startDragHCallback);\r\n            this._horizontalBar.rail.removeEventListener('wheel', this._handleWheelCallback);\r\n            this._horizontalBar.rail.removeEventListener('mousedown', this._handleMouseDownCallback);\r\n        }\r\n    };\r\n    Scrollbar.prototype._createDivWithClass = function (className) {\r\n        var div = document.createElement('div');\r\n        div.setAttribute('role', 'none');\r\n        div.className = className;\r\n        return div;\r\n    };\r\n    Scrollbar.prototype._addScrollBar = function (scrollbarInfo, railClass, hasBoth) {\r\n        var slider = this._createDivWithClass('slider');\r\n        scrollbarInfo.rail = this._createDivWithClass('rail ' + railClass + (hasBoth ? ' railBoth' : ''));\r\n        scrollbarInfo.slider = slider;\r\n        scrollbarInfo.rail.appendChild(slider);\r\n        this._container.appendChild(scrollbarInfo.rail);\r\n    };\r\n    Scrollbar.prototype._addScrollbars = function () {\r\n        var containerClass = this._hasVertical ? 'rxCustomScrollV' : 'rxCustomScrollH';\r\n        if (this._hasVertical) {\r\n            this._addScrollBar(this._verticalBar, 'railV', this._hasHorizontal);\r\n        }\r\n        if (this._hasHorizontal) {\r\n            this._addScrollBar(this._horizontalBar, 'railH', this._hasVertical);\r\n        }\r\n        this._container.classList.add(containerClass);\r\n        this._container.classList.add('rxCustomScroll');\r\n        this._viewport = this._container.querySelector('.scrollViewport');\r\n    };\r\n    Scrollbar.prototype._removeScrollbars = function () {\r\n        if (this._hasVertical) {\r\n            this._verticalBar.rail.innerHTML = '';\r\n            this._container.removeChild(this._verticalBar.rail);\r\n        }\r\n        if (this._hasHorizontal) {\r\n            this._horizontalBar.rail.innerHTML = '';\r\n            this._container.removeChild(this._horizontalBar.rail);\r\n        }\r\n    };\r\n    Scrollbar.prototype._calcNewBarSize = function (bar, newSize, newScrollSize, hasBoth) {\r\n        if (hasBoth || this._hasHiddenScrollbar) {\r\n            newSize -= SCROLLER_NEGATIVE_MARGIN;\r\n            newScrollSize -= SCROLLER_NEGATIVE_MARGIN - Scrollbar.getNativeScrollbarWidth();\r\n        }\r\n        if (newScrollSize !== bar.scrollSize || newSize !== bar.size) {\r\n            bar.size = newSize;\r\n            bar.scrollSize = newScrollSize;\r\n            bar.scroll2Slider = newSize / newScrollSize;\r\n            bar.sliderSize = newSize * bar.scroll2Slider;\r\n            // Don't allow the sliders to overlap.\r\n            if (hasBoth) {\r\n                bar.sliderSize = Math.max(bar.sliderSize - SCROLLER_NEGATIVE_MARGIN + Scrollbar.getNativeScrollbarWidth(), 0);\r\n            }\r\n            if (bar.sliderSize < SCROLLER_MIN_SIZE) {\r\n                var railRange = newSize - SCROLLER_MIN_SIZE + bar.sliderSize;\r\n                bar.scroll2Slider = railRange / newScrollSize;\r\n                bar.slider2Scroll = newScrollSize / railRange;\r\n            }\r\n            else {\r\n                bar.slider2Scroll = newScrollSize / newSize;\r\n            }\r\n        }\r\n    };\r\n    Scrollbar.prototype._resize = function () {\r\n        if (this._hasHorizontal) {\r\n            this._calcNewBarSize(this._horizontalBar, this._viewport.offsetWidth, this._viewport.scrollWidth, this._hasVertical);\r\n        }\r\n        if (this._hasVertical) {\r\n            this._calcNewBarSize(this._verticalBar, this._viewport.offsetHeight, this._viewport.scrollHeight, this._hasHorizontal);\r\n        }\r\n    };\r\n    Scrollbar.prototype.update = function () {\r\n        this._resize();\r\n        // We add one below to provide a small fudge factor because browsers round their scroll and offset values to the\r\n        // nearest integer, and IE sometimes ends up returning a scroll and offset value that are off by one.\r\n        if ((this._verticalBar && this._verticalBar.scrollSize > this._verticalBar.size + 1) ||\r\n            (this._horizontalBar && this._horizontalBar.scrollSize > this._horizontalBar.size + 1)) {\r\n            this.show();\r\n            this._updateSliders();\r\n        }\r\n        else {\r\n            this.hide();\r\n        }\r\n    };\r\n    Scrollbar.prototype.show = function () {\r\n        if (!this._scrollingVisible) {\r\n            this._container.classList.add('active');\r\n            this._addListeners();\r\n            this._scrollingVisible = true;\r\n        }\r\n    };\r\n    Scrollbar.prototype.hide = function () {\r\n        if (this._scrollingVisible) {\r\n            this._container.classList.remove('active');\r\n            this._removeListeners();\r\n            this._scrollingVisible = false;\r\n        }\r\n    };\r\n    Scrollbar.prototype.init = function (options) {\r\n        var _this = this;\r\n        if (options) {\r\n            this._hasHorizontal = !!options.horizontal;\r\n            // Only if vertical is explicitly false as opposed to null, set it to false (default is true)\r\n            if (options.vertical === false) {\r\n                this._hasVertical = options.vertical;\r\n            }\r\n            // Our container may be scrollable even if the corresponding scrollbar is hidden (i.e. vertical\r\n            // or horizontal is false). We have to take it into account when calculating scroll bar sizes.\r\n            this._hasHiddenScrollbar = !!options.hiddenScrollbar;\r\n        }\r\n        Scrollbar._installStyleSheet();\r\n        this._addScrollbars();\r\n        this.show();\r\n        this._container.addEventListener('mouseenter', this._updateCallback);\r\n        // Defer remaining init work to avoid triggering sync layout\r\n        this._asyncInitTimer = Timers_1.default.setTimeout(function () {\r\n            _this._asyncInitTimer = undefined;\r\n            _this._tryLtrOverride();\r\n            _this.update();\r\n        }, 0);\r\n    };\r\n    Scrollbar.prototype.dispose = function () {\r\n        if (this._asyncInitTimer) {\r\n            Timers_1.default.clearInterval(this._asyncInitTimer);\r\n            this._asyncInitTimer = undefined;\r\n        }\r\n        this._stopDrag();\r\n        this._container.removeEventListener('mouseenter', this._updateCallback);\r\n        this.hide();\r\n        this._removeScrollbars();\r\n        // release DOM nodes\r\n        this._container = null;\r\n        this._viewport = null;\r\n        this._verticalBar = null;\r\n        this._horizontalBar = null;\r\n    };\r\n    return Scrollbar;\r\n}());\r\nexports.Scrollbar = Scrollbar;\r\nexports.default = Scrollbar;\r\n"]},"metadata":{},"sourceType":"script"}