{"ast":null,"code":"\"use strict\";\n/**\r\n * Button.tsx\r\n *\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT license.\r\n *\r\n * Web-specific implementation of the cross-platform Button abstraction.\r\n */\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Button = void 0;\n\nvar PropTypes = require(\"prop-types\");\n\nvar React = require(\"react\");\n\nvar AppConfig_1 = require(\"../common/AppConfig\");\n\nvar AutoFocusHelper_1 = require(\"../common/utils/AutoFocusHelper\");\n\nvar Interfaces_1 = require(\"../common/Interfaces\");\n\nvar Timers_1 = require(\"../common/utils/Timers\");\n\nvar AccessibilityUtil_1 = require(\"./AccessibilityUtil\");\n\nvar FocusManager_1 = require(\"./utils/FocusManager\");\n\nvar Styles_1 = require(\"./Styles\");\n\nvar UserInterface_1 = require(\"./UserInterface\");\n\nvar _styles = {\n  defaultButton: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 0,\n    flexShrink: 0,\n    overflow: 'hidden',\n    alignItems: 'stretch',\n    justifyContent: 'center',\n    appRegion: 'no-drag',\n    backgroundColor: 'transparent',\n    borderColor: 'transparent',\n    textAlign: 'left',\n    borderWidth: '0'\n  }\n};\nvar _longPressTime = 1000;\nvar _defaultAccessibilityTrait = Interfaces_1.Types.AccessibilityTrait.Button;\n\nvar Button =\n/** @class */\nfunction (_super) {\n  __extends(Button, _super);\n\n  function Button(props, context) {\n    var _this = _super.call(this, props, context) || this;\n\n    _this._mountedButton = null;\n    _this._ignoreTouchEnd = false;\n    _this._ignoreClick = false;\n    _this._isMouseOver = false;\n    _this._isFocusedWithKeyboard = false;\n    _this._isHoverStarted = false;\n\n    _this._onMount = function (ref) {\n      _this._mountedButton = ref;\n    };\n\n    _this.onClick = function (e) {\n      if (_this._ignoreClick) {\n        e.stopPropagation();\n        _this._ignoreClick = false;\n      } else if (!_this.props.disabled && _this.props.onPress) {\n        _this.props.onPress(e);\n      }\n    };\n\n    _this._onContextMenu = function (e) {\n      if (_this.props.onContextMenu) {\n        _this.props.onContextMenu(e);\n      }\n    };\n\n    _this._onMouseDown = function (e) {\n      if (_this.props.disabled) {\n        return;\n      }\n\n      _this._isMouseOver = true;\n\n      if (_this.props.onPressIn) {\n        _this.props.onPressIn(e);\n      }\n\n      if (_this.props.onLongPress) {\n        _this._lastMouseDownEvent = e;\n        e.persist(); // In the unlikely event we get 2 mouse down events, clear existing timer\n\n        if (_this._longPressTimer) {\n          Timers_1.default.clearTimeout(_this._longPressTimer);\n        }\n\n        _this._longPressTimer = Timers_1.default.setTimeout(function () {\n          _this._longPressTimer = undefined;\n\n          if (_this.props.onLongPress) {\n            // lastMouseDownEvent can never be undefined at this point\n            _this.props.onLongPress(_this._lastMouseDownEvent);\n\n            if ('touches' in e) {\n              _this._ignoreTouchEnd = true;\n            } else {\n              _this._ignoreClick = true;\n            }\n          }\n        }, _this.props.delayLongPress || _longPressTime);\n      }\n    };\n\n    _this._onTouchMove = function (e) {\n      var buttonRect = e.target.getBoundingClientRect();\n      var wasMouseOver = _this._isMouseOver;\n      var isMouseOver = e.nativeEvent.touches[0].clientX > buttonRect.left && e.nativeEvent.touches[0].clientX < buttonRect.right && e.nativeEvent.touches[0].clientY > buttonRect.top && e.nativeEvent.touches[0].clientY < buttonRect.bottom; // Touch has left the button, cancel the longpress handler.\n\n      if (wasMouseOver && !isMouseOver) {\n        if (_this._longPressTimer) {\n          clearTimeout(_this._longPressTimer);\n        }\n\n        if (_this.props.onHoverEnd) {\n          _this.props.onHoverEnd(e);\n        }\n      }\n\n      _this._isMouseOver = isMouseOver;\n    };\n\n    _this._onMouseUp = function (e) {\n      if (!_this.props.disabled && _this.props.onPressOut) {\n        _this.props.onPressOut(e);\n      }\n\n      if (_this._longPressTimer) {\n        Timers_1.default.clearTimeout(_this._longPressTimer);\n      }\n    };\n    /**\r\n     * Case where onPressOut is not triggered and the bubbling is canceled:\r\n     * 1- Long press > release\r\n     *\r\n     * Cases where onPressOut is triggered:\r\n     * 2- Long press > leave button > release touch\r\n     * 3- Tap\r\n     *\r\n     * All other cases: onPressOut is not triggered and the bubbling is NOT canceled:\r\n     */\n\n\n    _this._onTouchEnd = function (e) {\n      if (_this._isMouseOver && _this._ignoreTouchEnd) {\n        /* 1 */\n        e.stopPropagation();\n      } else if (\n      /* 2 */\n      !_this._isMouseOver && _this._ignoreTouchEnd ||\n      /* 3 */\n      _this._isMouseOver && !_this._ignoreTouchEnd) {\n        if ('touches' in e) {\n          // Stop the to event sequence to prevent trigger button.onMouseDown\n          e.preventDefault();\n\n          if (_this.props.onPress) {\n            _this.props.onPress(e);\n          }\n        }\n\n        if (_this.props.onPressOut) {\n          _this.props.onPressOut(e);\n        }\n      }\n\n      _this._ignoreTouchEnd = false;\n\n      if (_this._longPressTimer) {\n        Timers_1.default.clearTimeout(_this._longPressTimer);\n      }\n    };\n\n    _this._onMouseEnter = function (e) {\n      _this._isMouseOver = true;\n\n      _this._onHoverStart(e);\n    };\n\n    _this._onMouseLeave = function (e) {\n      _this._isMouseOver = false;\n\n      _this._onHoverEnd(e); // The mouse is still down. A long press may be just happened. Re-enable the next click.\n\n\n      _this._ignoreClick = false; // Cancel longpress if mouse has left.\n\n      if (_this._longPressTimer) {\n        Timers_1.default.clearTimeout(_this._longPressTimer);\n      }\n    }; // When we get focus on an element, show the hover effect on the element.\n    // This ensures that users using keyboard also get the similar experience as mouse users for accessibility.\n\n\n    _this._onFocus = function (e) {\n      _this._isFocusedWithKeyboard = UserInterface_1.default.isNavigatingWithKeyboard();\n\n      _this._onHoverStart(e);\n\n      if (_this.props.onFocus) {\n        _this.props.onFocus(e);\n      }\n    };\n\n    _this._onBlur = function (e) {\n      _this._isFocusedWithKeyboard = false;\n\n      _this._onHoverEnd(e);\n\n      if (_this.props.onBlur) {\n        _this.props.onBlur(e);\n      }\n    };\n\n    _this._onHoverStart = function (e) {\n      if (!_this._isHoverStarted && (_this._isMouseOver || _this._isFocusedWithKeyboard)) {\n        _this._isHoverStarted = true;\n\n        if (_this.props.onHoverStart) {\n          _this.props.onHoverStart(e);\n        }\n      }\n    };\n\n    _this._onHoverEnd = function (e) {\n      if (_this._isHoverStarted && !_this._isMouseOver && !_this._isFocusedWithKeyboard) {\n        _this._isHoverStarted = false;\n\n        if (_this.props.onHoverEnd) {\n          _this.props.onHoverEnd(e);\n        }\n      }\n    };\n\n    if (context && context.hasRxButtonAscendant) {\n      if (AppConfig_1.default.isDevelopmentMode()) {\n        console.warn('Button components should not be embedded. Some APIs, e.g. Accessibility, will not work.');\n      }\n    }\n\n    return _this;\n  }\n\n  Button.prototype.getChildContext = function () {\n    return {\n      hasRxButtonAscendant: true\n    };\n  };\n\n  Button.prototype.render = function () {\n    var ariaRole = AccessibilityUtil_1.default.accessibilityTraitToString(this.props.accessibilityTraits, _defaultAccessibilityTrait);\n    var ariaSelected = AccessibilityUtil_1.default.accessibilityTraitToAriaSelected(this.props.accessibilityTraits);\n    var ariaChecked = AccessibilityUtil_1.default.accessibilityTraitToAriaChecked(this.props.accessibilityTraits);\n    var isAriaHidden = AccessibilityUtil_1.default.isHidden(this.props.importantForAccessibility);\n    var ariaHasPopup = AccessibilityUtil_1.default.accessibilityTraitToAriaHasPopup(this.props.accessibilityTraits); // NOTE: We use tabIndex=0 to support focus.\n\n    return React.createElement(\"button\", {\n      ref: this._onMount,\n      style: this._getStyles(),\n      role: ariaRole,\n      title: this.props.title,\n      tabIndex: this.props.tabIndex,\n      \"aria-label\": this.props.accessibilityLabel || this.props.title,\n      \"aria-disabled\": this.props.disabled,\n      \"aria-hidden\": isAriaHidden,\n      \"aria-selected\": ariaSelected,\n      \"aria-checked\": ariaChecked,\n      onClick: this.onClick,\n      onTouchStart: this._onMouseDown,\n      onTouchMove: this._onTouchMove,\n      onTouchEnd: this._onTouchEnd,\n      onContextMenu: this._onContextMenu,\n      onMouseDown: this._onMouseDown,\n      onMouseUp: this._onMouseUp,\n      onMouseEnter: this._onMouseEnter,\n      onMouseLeave: this._onMouseLeave,\n      onFocus: this._onFocus,\n      onBlur: this._onBlur,\n      onKeyDown: this.props.onKeyPress,\n      disabled: this.props.disabled,\n      \"aria-haspopup\": ariaHasPopup,\n      \"aria-controls\": this.props.ariaControls,\n      id: this.props.id,\n      \"data-test-id\": this.props.testId\n    }, this.props.children);\n  };\n\n  Button.prototype.componentDidMount = function () {\n    if (this.props.autoFocus) {\n      this.requestFocus();\n    }\n  };\n\n  Button.prototype.requestFocus = function () {\n    var _this = this;\n\n    AutoFocusHelper_1.FocusArbitratorProvider.requestFocus(this, function () {\n      return _this.focus();\n    }, function () {\n      return _this._mountedButton !== null;\n    });\n  };\n\n  Button.prototype.focus = function () {\n    if (this._mountedButton) {\n      this._mountedButton.focus();\n    }\n  };\n\n  Button.prototype.blur = function () {\n    if (this._mountedButton) {\n      this._mountedButton.blur();\n    }\n  };\n\n  Button.prototype._getStyles = function () {\n    var buttonStyleMutations = {};\n    var buttonStyles = Styles_1.default.combine(this.props.style); // Specify default style for padding only if padding is not already specified\n\n    if (buttonStyles && buttonStyles.padding === undefined && buttonStyles.paddingRight === undefined && buttonStyles.paddingLeft === undefined && buttonStyles.paddingBottom === undefined && buttonStyles.paddingTop === undefined && buttonStyles.paddingHorizontal === undefined && buttonStyles.paddingVertical === undefined) {\n      buttonStyleMutations.padding = 0;\n    }\n\n    if (this.props.disabled) {\n      buttonStyleMutations.opacity = this.props.disabledOpacity !== undefined ? this.props.disabledOpacity : 0.5;\n    } // Default to 'pointer' cursor for enabled buttons unless otherwise specified.\n\n\n    if (!buttonStyles || !buttonStyles.cursor) {\n      buttonStyleMutations.cursor = this.props.disabled ? 'default' : 'pointer';\n    }\n\n    return Styles_1.default.combine([_styles.defaultButton, buttonStyles, buttonStyleMutations]);\n  };\n\n  Button.contextTypes = {\n    hasRxButtonAscendant: PropTypes.bool,\n    focusArbitrator: PropTypes.object\n  };\n  Button.childContextTypes = {\n    hasRxButtonAscendant: PropTypes.bool\n  };\n  return Button;\n}(Interfaces_1.Button);\n\nexports.Button = Button;\nFocusManager_1.applyFocusableComponentMixin(Button);\nexports.default = Button;","map":{"version":3,"sources":["/Users/dangthang/Desktop/webStreamGame/node_modules/react-ult/dist/web/Button.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","defineProperty","exports","value","Button","PropTypes","require","React","AppConfig_1","AutoFocusHelper_1","Interfaces_1","Timers_1","AccessibilityUtil_1","FocusManager_1","Styles_1","UserInterface_1","_styles","defaultButton","position","display","flexDirection","flexGrow","flexShrink","overflow","alignItems","justifyContent","appRegion","backgroundColor","borderColor","textAlign","borderWidth","_longPressTime","_defaultAccessibilityTrait","Types","AccessibilityTrait","_super","props","context","_this","_mountedButton","_ignoreTouchEnd","_ignoreClick","_isMouseOver","_isFocusedWithKeyboard","_isHoverStarted","_onMount","ref","onClick","e","stopPropagation","disabled","onPress","_onContextMenu","onContextMenu","_onMouseDown","onPressIn","onLongPress","_lastMouseDownEvent","persist","_longPressTimer","default","clearTimeout","setTimeout","undefined","delayLongPress","_onTouchMove","buttonRect","target","getBoundingClientRect","wasMouseOver","isMouseOver","nativeEvent","touches","clientX","left","right","clientY","top","bottom","onHoverEnd","_onMouseUp","onPressOut","_onTouchEnd","preventDefault","_onMouseEnter","_onHoverStart","_onMouseLeave","_onHoverEnd","_onFocus","isNavigatingWithKeyboard","onFocus","_onBlur","onBlur","onHoverStart","hasRxButtonAscendant","isDevelopmentMode","console","warn","getChildContext","render","ariaRole","accessibilityTraitToString","accessibilityTraits","ariaSelected","accessibilityTraitToAriaSelected","ariaChecked","accessibilityTraitToAriaChecked","isAriaHidden","isHidden","importantForAccessibility","ariaHasPopup","accessibilityTraitToAriaHasPopup","createElement","style","_getStyles","role","title","tabIndex","accessibilityLabel","onTouchStart","onTouchMove","onTouchEnd","onMouseDown","onMouseUp","onMouseEnter","onMouseLeave","onKeyDown","onKeyPress","ariaControls","id","testId","children","componentDidMount","autoFocus","requestFocus","FocusArbitratorProvider","focus","blur","buttonStyleMutations","buttonStyles","combine","padding","paddingRight","paddingLeft","paddingBottom","paddingTop","paddingHorizontal","paddingVertical","opacity","disabledOpacity","cursor","contextTypes","bool","focusArbitrator","object","childContextTypes","applyFocusableComponentMixin"],"mappings":"AAAA;AACA;;;;;;;;;AAQA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIC,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EAAgDN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAFrG;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASS,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBX,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACO,SAAF,GAAcN,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACU,MAAP,CAAcX,CAAd,CAAb,IAAiCS,EAAE,CAACH,SAAH,GAAeN,CAAC,CAACM,SAAjB,EAA4B,IAAIG,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;;AAaAR,MAAM,CAACW,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,MAAR,GAAiB,KAAK,CAAtB;;AACA,IAAIC,SAAS,GAAGC,OAAO,CAAC,YAAD,CAAvB;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIE,WAAW,GAAGF,OAAO,CAAC,qBAAD,CAAzB;;AACA,IAAIG,iBAAiB,GAAGH,OAAO,CAAC,iCAAD,CAA/B;;AACA,IAAII,YAAY,GAAGJ,OAAO,CAAC,sBAAD,CAA1B;;AACA,IAAIK,QAAQ,GAAGL,OAAO,CAAC,wBAAD,CAAtB;;AACA,IAAIM,mBAAmB,GAAGN,OAAO,CAAC,qBAAD,CAAjC;;AACA,IAAIO,cAAc,GAAGP,OAAO,CAAC,sBAAD,CAA5B;;AACA,IAAIQ,QAAQ,GAAGR,OAAO,CAAC,UAAD,CAAtB;;AACA,IAAIS,eAAe,GAAGT,OAAO,CAAC,iBAAD,CAA7B;;AACA,IAAIU,OAAO,GAAG;AACVC,EAAAA,aAAa,EAAE;AACXC,IAAAA,QAAQ,EAAE,UADC;AAEXC,IAAAA,OAAO,EAAE,MAFE;AAGXC,IAAAA,aAAa,EAAE,QAHJ;AAIXC,IAAAA,QAAQ,EAAE,CAJC;AAKXC,IAAAA,UAAU,EAAE,CALD;AAMXC,IAAAA,QAAQ,EAAE,QANC;AAOXC,IAAAA,UAAU,EAAE,SAPD;AAQXC,IAAAA,cAAc,EAAE,QARL;AASXC,IAAAA,SAAS,EAAE,SATA;AAUXC,IAAAA,eAAe,EAAE,aAVN;AAWXC,IAAAA,WAAW,EAAE,aAXF;AAYXC,IAAAA,SAAS,EAAE,MAZA;AAaXC,IAAAA,WAAW,EAAE;AAbF;AADL,CAAd;AAiBA,IAAIC,cAAc,GAAG,IAArB;AACA,IAAIC,0BAA0B,GAAGtB,YAAY,CAACuB,KAAb,CAAmBC,kBAAnB,CAAsC9B,MAAvE;;AACA,IAAIA,MAAM;AAAG;AAAe,UAAU+B,MAAV,EAAkB;AAC1CjD,EAAAA,SAAS,CAACkB,MAAD,EAAS+B,MAAT,CAAT;;AACA,WAAS/B,MAAT,CAAgBgC,KAAhB,EAAuBC,OAAvB,EAAgC;AAC5B,QAAIC,KAAK,GAAGH,MAAM,CAACtC,IAAP,CAAY,IAAZ,EAAkBuC,KAAlB,EAAyBC,OAAzB,KAAqC,IAAjD;;AACAC,IAAAA,KAAK,CAACC,cAAN,GAAuB,IAAvB;AACAD,IAAAA,KAAK,CAACE,eAAN,GAAwB,KAAxB;AACAF,IAAAA,KAAK,CAACG,YAAN,GAAqB,KAArB;AACAH,IAAAA,KAAK,CAACI,YAAN,GAAqB,KAArB;AACAJ,IAAAA,KAAK,CAACK,sBAAN,GAA+B,KAA/B;AACAL,IAAAA,KAAK,CAACM,eAAN,GAAwB,KAAxB;;AACAN,IAAAA,KAAK,CAACO,QAAN,GAAiB,UAAUC,GAAV,EAAe;AAC5BR,MAAAA,KAAK,CAACC,cAAN,GAAuBO,GAAvB;AACH,KAFD;;AAGAR,IAAAA,KAAK,CAACS,OAAN,GAAgB,UAAUC,CAAV,EAAa;AACzB,UAAIV,KAAK,CAACG,YAAV,EAAwB;AACpBO,QAAAA,CAAC,CAACC,eAAF;AACAX,QAAAA,KAAK,CAACG,YAAN,GAAqB,KAArB;AACH,OAHD,MAIK,IAAI,CAACH,KAAK,CAACF,KAAN,CAAYc,QAAb,IAAyBZ,KAAK,CAACF,KAAN,CAAYe,OAAzC,EAAkD;AACnDb,QAAAA,KAAK,CAACF,KAAN,CAAYe,OAAZ,CAAoBH,CAApB;AACH;AACJ,KARD;;AASAV,IAAAA,KAAK,CAACc,cAAN,GAAuB,UAAUJ,CAAV,EAAa;AAChC,UAAIV,KAAK,CAACF,KAAN,CAAYiB,aAAhB,EAA+B;AAC3Bf,QAAAA,KAAK,CAACF,KAAN,CAAYiB,aAAZ,CAA0BL,CAA1B;AACH;AACJ,KAJD;;AAKAV,IAAAA,KAAK,CAACgB,YAAN,GAAqB,UAAUN,CAAV,EAAa;AAC9B,UAAIV,KAAK,CAACF,KAAN,CAAYc,QAAhB,EAA0B;AACtB;AACH;;AACDZ,MAAAA,KAAK,CAACI,YAAN,GAAqB,IAArB;;AACA,UAAIJ,KAAK,CAACF,KAAN,CAAYmB,SAAhB,EAA2B;AACvBjB,QAAAA,KAAK,CAACF,KAAN,CAAYmB,SAAZ,CAAsBP,CAAtB;AACH;;AACD,UAAIV,KAAK,CAACF,KAAN,CAAYoB,WAAhB,EAA6B;AACzBlB,QAAAA,KAAK,CAACmB,mBAAN,GAA4BT,CAA5B;AACAA,QAAAA,CAAC,CAACU,OAAF,GAFyB,CAGzB;;AACA,YAAIpB,KAAK,CAACqB,eAAV,EAA2B;AACvBhD,UAAAA,QAAQ,CAACiD,OAAT,CAAiBC,YAAjB,CAA8BvB,KAAK,CAACqB,eAApC;AACH;;AACDrB,QAAAA,KAAK,CAACqB,eAAN,GAAwBhD,QAAQ,CAACiD,OAAT,CAAiBE,UAAjB,CAA4B,YAAY;AAC5DxB,UAAAA,KAAK,CAACqB,eAAN,GAAwBI,SAAxB;;AACA,cAAIzB,KAAK,CAACF,KAAN,CAAYoB,WAAhB,EAA6B;AACzB;AACAlB,YAAAA,KAAK,CAACF,KAAN,CAAYoB,WAAZ,CAAwBlB,KAAK,CAACmB,mBAA9B;;AACA,gBAAI,aAAaT,CAAjB,EAAoB;AAChBV,cAAAA,KAAK,CAACE,eAAN,GAAwB,IAAxB;AACH,aAFD,MAGK;AACDF,cAAAA,KAAK,CAACG,YAAN,GAAqB,IAArB;AACH;AACJ;AACJ,SAZuB,EAYrBH,KAAK,CAACF,KAAN,CAAY4B,cAAZ,IAA8BjC,cAZT,CAAxB;AAaH;AACJ,KA7BD;;AA8BAO,IAAAA,KAAK,CAAC2B,YAAN,GAAqB,UAAUjB,CAAV,EAAa;AAC9B,UAAIkB,UAAU,GAAGlB,CAAC,CAACmB,MAAF,CAASC,qBAAT,EAAjB;AACA,UAAIC,YAAY,GAAG/B,KAAK,CAACI,YAAzB;AACA,UAAI4B,WAAW,GAAGtB,CAAC,CAACuB,WAAF,CAAcC,OAAd,CAAsB,CAAtB,EAAyBC,OAAzB,GAAmCP,UAAU,CAACQ,IAA9C,IACd1B,CAAC,CAACuB,WAAF,CAAcC,OAAd,CAAsB,CAAtB,EAAyBC,OAAzB,GAAmCP,UAAU,CAACS,KADhC,IAEd3B,CAAC,CAACuB,WAAF,CAAcC,OAAd,CAAsB,CAAtB,EAAyBI,OAAzB,GAAmCV,UAAU,CAACW,GAFhC,IAGd7B,CAAC,CAACuB,WAAF,CAAcC,OAAd,CAAsB,CAAtB,EAAyBI,OAAzB,GAAmCV,UAAU,CAACY,MAHlD,CAH8B,CAO9B;;AACA,UAAIT,YAAY,IAAI,CAACC,WAArB,EAAkC;AAC9B,YAAIhC,KAAK,CAACqB,eAAV,EAA2B;AACvBE,UAAAA,YAAY,CAACvB,KAAK,CAACqB,eAAP,CAAZ;AACH;;AACD,YAAIrB,KAAK,CAACF,KAAN,CAAY2C,UAAhB,EAA4B;AACxBzC,UAAAA,KAAK,CAACF,KAAN,CAAY2C,UAAZ,CAAuB/B,CAAvB;AACH;AACJ;;AACDV,MAAAA,KAAK,CAACI,YAAN,GAAqB4B,WAArB;AACH,KAjBD;;AAkBAhC,IAAAA,KAAK,CAAC0C,UAAN,GAAmB,UAAUhC,CAAV,EAAa;AAC5B,UAAI,CAACV,KAAK,CAACF,KAAN,CAAYc,QAAb,IAAyBZ,KAAK,CAACF,KAAN,CAAY6C,UAAzC,EAAqD;AACjD3C,QAAAA,KAAK,CAACF,KAAN,CAAY6C,UAAZ,CAAuBjC,CAAvB;AACH;;AACD,UAAIV,KAAK,CAACqB,eAAV,EAA2B;AACvBhD,QAAAA,QAAQ,CAACiD,OAAT,CAAiBC,YAAjB,CAA8BvB,KAAK,CAACqB,eAApC;AACH;AACJ,KAPD;AAQA;;;;;;;;;;;;AAUArB,IAAAA,KAAK,CAAC4C,WAAN,GAAoB,UAAUlC,CAAV,EAAa;AAC7B,UAAIV,KAAK,CAACI,YAAN,IAAsBJ,KAAK,CAACE,eAAhC,EAAiD;AAC7C;AACAQ,QAAAA,CAAC,CAACC,eAAF;AACH,OAHD,MAIK;AACL;AACA,OAACX,KAAK,CAACI,YAAP,IAAuBJ,KAAK,CAACE,eAA7B;AACI;AACAF,MAAAA,KAAK,CAACI,YAAN,IAAsB,CAACJ,KAAK,CAACE,eAJ5B,EAI6C;AAC9C,YAAI,aAAaQ,CAAjB,EAAoB;AAChB;AACAA,UAAAA,CAAC,CAACmC,cAAF;;AACA,cAAI7C,KAAK,CAACF,KAAN,CAAYe,OAAhB,EAAyB;AACrBb,YAAAA,KAAK,CAACF,KAAN,CAAYe,OAAZ,CAAoBH,CAApB;AACH;AACJ;;AACD,YAAIV,KAAK,CAACF,KAAN,CAAY6C,UAAhB,EAA4B;AACxB3C,UAAAA,KAAK,CAACF,KAAN,CAAY6C,UAAZ,CAAuBjC,CAAvB;AACH;AACJ;;AACDV,MAAAA,KAAK,CAACE,eAAN,GAAwB,KAAxB;;AACA,UAAIF,KAAK,CAACqB,eAAV,EAA2B;AACvBhD,QAAAA,QAAQ,CAACiD,OAAT,CAAiBC,YAAjB,CAA8BvB,KAAK,CAACqB,eAApC;AACH;AACJ,KAzBD;;AA0BArB,IAAAA,KAAK,CAAC8C,aAAN,GAAsB,UAAUpC,CAAV,EAAa;AAC/BV,MAAAA,KAAK,CAACI,YAAN,GAAqB,IAArB;;AACAJ,MAAAA,KAAK,CAAC+C,aAAN,CAAoBrC,CAApB;AACH,KAHD;;AAIAV,IAAAA,KAAK,CAACgD,aAAN,GAAsB,UAAUtC,CAAV,EAAa;AAC/BV,MAAAA,KAAK,CAACI,YAAN,GAAqB,KAArB;;AACAJ,MAAAA,KAAK,CAACiD,WAAN,CAAkBvC,CAAlB,EAF+B,CAG/B;;;AACAV,MAAAA,KAAK,CAACG,YAAN,GAAqB,KAArB,CAJ+B,CAK/B;;AACA,UAAIH,KAAK,CAACqB,eAAV,EAA2B;AACvBhD,QAAAA,QAAQ,CAACiD,OAAT,CAAiBC,YAAjB,CAA8BvB,KAAK,CAACqB,eAApC;AACH;AACJ,KATD,CAzH4B,CAmI5B;AACA;;;AACArB,IAAAA,KAAK,CAACkD,QAAN,GAAiB,UAAUxC,CAAV,EAAa;AAC1BV,MAAAA,KAAK,CAACK,sBAAN,GAA+B5B,eAAe,CAAC6C,OAAhB,CAAwB6B,wBAAxB,EAA/B;;AACAnD,MAAAA,KAAK,CAAC+C,aAAN,CAAoBrC,CAApB;;AACA,UAAIV,KAAK,CAACF,KAAN,CAAYsD,OAAhB,EAAyB;AACrBpD,QAAAA,KAAK,CAACF,KAAN,CAAYsD,OAAZ,CAAoB1C,CAApB;AACH;AACJ,KAND;;AAOAV,IAAAA,KAAK,CAACqD,OAAN,GAAgB,UAAU3C,CAAV,EAAa;AACzBV,MAAAA,KAAK,CAACK,sBAAN,GAA+B,KAA/B;;AACAL,MAAAA,KAAK,CAACiD,WAAN,CAAkBvC,CAAlB;;AACA,UAAIV,KAAK,CAACF,KAAN,CAAYwD,MAAhB,EAAwB;AACpBtD,QAAAA,KAAK,CAACF,KAAN,CAAYwD,MAAZ,CAAmB5C,CAAnB;AACH;AACJ,KAND;;AAOAV,IAAAA,KAAK,CAAC+C,aAAN,GAAsB,UAAUrC,CAAV,EAAa;AAC/B,UAAI,CAACV,KAAK,CAACM,eAAP,KAA2BN,KAAK,CAACI,YAAN,IAAsBJ,KAAK,CAACK,sBAAvD,CAAJ,EAAoF;AAChFL,QAAAA,KAAK,CAACM,eAAN,GAAwB,IAAxB;;AACA,YAAIN,KAAK,CAACF,KAAN,CAAYyD,YAAhB,EAA8B;AAC1BvD,UAAAA,KAAK,CAACF,KAAN,CAAYyD,YAAZ,CAAyB7C,CAAzB;AACH;AACJ;AACJ,KAPD;;AAQAV,IAAAA,KAAK,CAACiD,WAAN,GAAoB,UAAUvC,CAAV,EAAa;AAC7B,UAAIV,KAAK,CAACM,eAAN,IAAyB,CAACN,KAAK,CAACI,YAAhC,IAAgD,CAACJ,KAAK,CAACK,sBAA3D,EAAmF;AAC/EL,QAAAA,KAAK,CAACM,eAAN,GAAwB,KAAxB;;AACA,YAAIN,KAAK,CAACF,KAAN,CAAY2C,UAAhB,EAA4B;AACxBzC,UAAAA,KAAK,CAACF,KAAN,CAAY2C,UAAZ,CAAuB/B,CAAvB;AACH;AACJ;AACJ,KAPD;;AAQA,QAAIX,OAAO,IAAIA,OAAO,CAACyD,oBAAvB,EAA6C;AACzC,UAAItF,WAAW,CAACoD,OAAZ,CAAoBmC,iBAApB,EAAJ,EAA6C;AACzCC,QAAAA,OAAO,CAACC,IAAR,CAAa,yFAAb;AACH;AACJ;;AACD,WAAO3D,KAAP;AACH;;AACDlC,EAAAA,MAAM,CAACT,SAAP,CAAiBuG,eAAjB,GAAmC,YAAY;AAC3C,WAAO;AAAEJ,MAAAA,oBAAoB,EAAE;AAAxB,KAAP;AACH,GAFD;;AAGA1F,EAAAA,MAAM,CAACT,SAAP,CAAiBwG,MAAjB,GAA0B,YAAY;AAClC,QAAIC,QAAQ,GAAGxF,mBAAmB,CAACgD,OAApB,CAA4ByC,0BAA5B,CAAuD,KAAKjE,KAAL,CAAWkE,mBAAlE,EAAuFtE,0BAAvF,CAAf;AACA,QAAIuE,YAAY,GAAG3F,mBAAmB,CAACgD,OAApB,CAA4B4C,gCAA5B,CAA6D,KAAKpE,KAAL,CAAWkE,mBAAxE,CAAnB;AACA,QAAIG,WAAW,GAAG7F,mBAAmB,CAACgD,OAApB,CAA4B8C,+BAA5B,CAA4D,KAAKtE,KAAL,CAAWkE,mBAAvE,CAAlB;AACA,QAAIK,YAAY,GAAG/F,mBAAmB,CAACgD,OAApB,CAA4BgD,QAA5B,CAAqC,KAAKxE,KAAL,CAAWyE,yBAAhD,CAAnB;AACA,QAAIC,YAAY,GAAGlG,mBAAmB,CAACgD,OAApB,CAA4BmD,gCAA5B,CAA6D,KAAK3E,KAAL,CAAWkE,mBAAxE,CAAnB,CALkC,CAMlC;;AACA,WAAQ/F,KAAK,CAACyG,aAAN,CAAoB,QAApB,EAA8B;AAAElE,MAAAA,GAAG,EAAE,KAAKD,QAAZ;AAAsBoE,MAAAA,KAAK,EAAE,KAAKC,UAAL,EAA7B;AAAgDC,MAAAA,IAAI,EAAEf,QAAtD;AAAgEgB,MAAAA,KAAK,EAAE,KAAKhF,KAAL,CAAWgF,KAAlF;AAAyFC,MAAAA,QAAQ,EAAE,KAAKjF,KAAL,CAAWiF,QAA9G;AAAwH,oBAAc,KAAKjF,KAAL,CAAWkF,kBAAX,IAAiC,KAAKlF,KAAL,CAAWgF,KAAlL;AAAyL,uBAAiB,KAAKhF,KAAL,CAAWc,QAArN;AAA+N,qBAAeyD,YAA9O;AAA4P,uBAAiBJ,YAA7Q;AAA2R,sBAAgBE,WAA3S;AAAwT1D,MAAAA,OAAO,EAAE,KAAKA,OAAtU;AAA+UwE,MAAAA,YAAY,EAAE,KAAKjE,YAAlW;AAAgXkE,MAAAA,WAAW,EAAE,KAAKvD,YAAlY;AAAgZwD,MAAAA,UAAU,EAAE,KAAKvC,WAAja;AAA8a7B,MAAAA,aAAa,EAAE,KAAKD,cAAlc;AAAkdsE,MAAAA,WAAW,EAAE,KAAKpE,YAApe;AAAkfqE,MAAAA,SAAS,EAAE,KAAK3C,UAAlgB;AAA8gB4C,MAAAA,YAAY,EAAE,KAAKxC,aAAjiB;AAAgjByC,MAAAA,YAAY,EAAE,KAAKvC,aAAnkB;AAAklBI,MAAAA,OAAO,EAAE,KAAKF,QAAhmB;AAA0mBI,MAAAA,MAAM,EAAE,KAAKD,OAAvnB;AAAgoBmC,MAAAA,SAAS,EAAE,KAAK1F,KAAL,CAAW2F,UAAtpB;AAAkqB7E,MAAAA,QAAQ,EAAE,KAAKd,KAAL,CAAWc,QAAvrB;AAAisB,uBAAiB4D,YAAltB;AAAguB,uBAAiB,KAAK1E,KAAL,CAAW4F,YAA5vB;AAA0wBC,MAAAA,EAAE,EAAE,KAAK7F,KAAL,CAAW6F,EAAzxB;AAA6xB,sBAAgB,KAAK7F,KAAL,CAAW8F;AAAxzB,KAA9B,EAAg2B,KAAK9F,KAAL,CAAW+F,QAA32B,CAAR;AACH,GARD;;AASA/H,EAAAA,MAAM,CAACT,SAAP,CAAiByI,iBAAjB,GAAqC,YAAY;AAC7C,QAAI,KAAKhG,KAAL,CAAWiG,SAAf,EAA0B;AACtB,WAAKC,YAAL;AACH;AACJ,GAJD;;AAKAlI,EAAAA,MAAM,CAACT,SAAP,CAAiB2I,YAAjB,GAAgC,YAAY;AACxC,QAAIhG,KAAK,GAAG,IAAZ;;AACA7B,IAAAA,iBAAiB,CAAC8H,uBAAlB,CAA0CD,YAA1C,CAAuD,IAAvD,EAA6D,YAAY;AAAE,aAAOhG,KAAK,CAACkG,KAAN,EAAP;AAAuB,KAAlG,EAAoG,YAAY;AAAE,aAAOlG,KAAK,CAACC,cAAN,KAAyB,IAAhC;AAAuC,KAAzJ;AACH,GAHD;;AAIAnC,EAAAA,MAAM,CAACT,SAAP,CAAiB6I,KAAjB,GAAyB,YAAY;AACjC,QAAI,KAAKjG,cAAT,EAAyB;AACrB,WAAKA,cAAL,CAAoBiG,KAApB;AACH;AACJ,GAJD;;AAKApI,EAAAA,MAAM,CAACT,SAAP,CAAiB8I,IAAjB,GAAwB,YAAY;AAChC,QAAI,KAAKlG,cAAT,EAAyB;AACrB,WAAKA,cAAL,CAAoBkG,IAApB;AACH;AACJ,GAJD;;AAKArI,EAAAA,MAAM,CAACT,SAAP,CAAiBuH,UAAjB,GAA8B,YAAY;AACtC,QAAIwB,oBAAoB,GAAG,EAA3B;AACA,QAAIC,YAAY,GAAG7H,QAAQ,CAAC8C,OAAT,CAAiBgF,OAAjB,CAAyB,KAAKxG,KAAL,CAAW6E,KAApC,CAAnB,CAFsC,CAGtC;;AACA,QAAI0B,YAAY,IAAIA,YAAY,CAACE,OAAb,KAAyB9E,SAAzC,IACA4E,YAAY,CAACG,YAAb,KAA8B/E,SAD9B,IAC2C4E,YAAY,CAACI,WAAb,KAA6BhF,SADxE,IAEA4E,YAAY,CAACK,aAAb,KAA+BjF,SAF/B,IAE4C4E,YAAY,CAACM,UAAb,KAA4BlF,SAFxE,IAGA4E,YAAY,CAACO,iBAAb,KAAmCnF,SAHnC,IAGgD4E,YAAY,CAACQ,eAAb,KAAiCpF,SAHrF,EAGgG;AAC5F2E,MAAAA,oBAAoB,CAACG,OAArB,GAA+B,CAA/B;AACH;;AACD,QAAI,KAAKzG,KAAL,CAAWc,QAAf,EAAyB;AACrBwF,MAAAA,oBAAoB,CAACU,OAArB,GAA+B,KAAKhH,KAAL,CAAWiH,eAAX,KAA+BtF,SAA/B,GAA2C,KAAK3B,KAAL,CAAWiH,eAAtD,GAAwE,GAAvG;AACH,KAZqC,CAatC;;;AACA,QAAI,CAACV,YAAD,IAAiB,CAACA,YAAY,CAACW,MAAnC,EAA2C;AACvCZ,MAAAA,oBAAoB,CAACY,MAArB,GAA8B,KAAKlH,KAAL,CAAWc,QAAX,GAAsB,SAAtB,GAAkC,SAAhE;AACH;;AACD,WAAOpC,QAAQ,CAAC8C,OAAT,CAAiBgF,OAAjB,CAAyB,CAAC5H,OAAO,CAACC,aAAT,EAAwB0H,YAAxB,EAAsCD,oBAAtC,CAAzB,CAAP;AACH,GAlBD;;AAmBAtI,EAAAA,MAAM,CAACmJ,YAAP,GAAsB;AAClBzD,IAAAA,oBAAoB,EAAEzF,SAAS,CAACmJ,IADd;AAElBC,IAAAA,eAAe,EAAEpJ,SAAS,CAACqJ;AAFT,GAAtB;AAIAtJ,EAAAA,MAAM,CAACuJ,iBAAP,GAA2B;AACvB7D,IAAAA,oBAAoB,EAAEzF,SAAS,CAACmJ;AADT,GAA3B;AAGA,SAAOpJ,MAAP;AACH,CAtO2B,CAsO1BM,YAAY,CAACN,MAtOa,CAA5B;;AAuOAF,OAAO,CAACE,MAAR,GAAiBA,MAAjB;AACAS,cAAc,CAAC+I,4BAAf,CAA4CxJ,MAA5C;AACAF,OAAO,CAAC0D,OAAR,GAAkBxD,MAAlB","sourcesContent":["\"use strict\";\r\n/**\r\n * Button.tsx\r\n *\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT license.\r\n *\r\n * Web-specific implementation of the cross-platform Button abstraction.\r\n */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Button = void 0;\r\nvar PropTypes = require(\"prop-types\");\r\nvar React = require(\"react\");\r\nvar AppConfig_1 = require(\"../common/AppConfig\");\r\nvar AutoFocusHelper_1 = require(\"../common/utils/AutoFocusHelper\");\r\nvar Interfaces_1 = require(\"../common/Interfaces\");\r\nvar Timers_1 = require(\"../common/utils/Timers\");\r\nvar AccessibilityUtil_1 = require(\"./AccessibilityUtil\");\r\nvar FocusManager_1 = require(\"./utils/FocusManager\");\r\nvar Styles_1 = require(\"./Styles\");\r\nvar UserInterface_1 = require(\"./UserInterface\");\r\nvar _styles = {\r\n    defaultButton: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        flexGrow: 0,\r\n        flexShrink: 0,\r\n        overflow: 'hidden',\r\n        alignItems: 'stretch',\r\n        justifyContent: 'center',\r\n        appRegion: 'no-drag',\r\n        backgroundColor: 'transparent',\r\n        borderColor: 'transparent',\r\n        textAlign: 'left',\r\n        borderWidth: '0',\r\n    },\r\n};\r\nvar _longPressTime = 1000;\r\nvar _defaultAccessibilityTrait = Interfaces_1.Types.AccessibilityTrait.Button;\r\nvar Button = /** @class */ (function (_super) {\r\n    __extends(Button, _super);\r\n    function Button(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this._mountedButton = null;\r\n        _this._ignoreTouchEnd = false;\r\n        _this._ignoreClick = false;\r\n        _this._isMouseOver = false;\r\n        _this._isFocusedWithKeyboard = false;\r\n        _this._isHoverStarted = false;\r\n        _this._onMount = function (ref) {\r\n            _this._mountedButton = ref;\r\n        };\r\n        _this.onClick = function (e) {\r\n            if (_this._ignoreClick) {\r\n                e.stopPropagation();\r\n                _this._ignoreClick = false;\r\n            }\r\n            else if (!_this.props.disabled && _this.props.onPress) {\r\n                _this.props.onPress(e);\r\n            }\r\n        };\r\n        _this._onContextMenu = function (e) {\r\n            if (_this.props.onContextMenu) {\r\n                _this.props.onContextMenu(e);\r\n            }\r\n        };\r\n        _this._onMouseDown = function (e) {\r\n            if (_this.props.disabled) {\r\n                return;\r\n            }\r\n            _this._isMouseOver = true;\r\n            if (_this.props.onPressIn) {\r\n                _this.props.onPressIn(e);\r\n            }\r\n            if (_this.props.onLongPress) {\r\n                _this._lastMouseDownEvent = e;\r\n                e.persist();\r\n                // In the unlikely event we get 2 mouse down events, clear existing timer\r\n                if (_this._longPressTimer) {\r\n                    Timers_1.default.clearTimeout(_this._longPressTimer);\r\n                }\r\n                _this._longPressTimer = Timers_1.default.setTimeout(function () {\r\n                    _this._longPressTimer = undefined;\r\n                    if (_this.props.onLongPress) {\r\n                        // lastMouseDownEvent can never be undefined at this point\r\n                        _this.props.onLongPress(_this._lastMouseDownEvent);\r\n                        if ('touches' in e) {\r\n                            _this._ignoreTouchEnd = true;\r\n                        }\r\n                        else {\r\n                            _this._ignoreClick = true;\r\n                        }\r\n                    }\r\n                }, _this.props.delayLongPress || _longPressTime);\r\n            }\r\n        };\r\n        _this._onTouchMove = function (e) {\r\n            var buttonRect = e.target.getBoundingClientRect();\r\n            var wasMouseOver = _this._isMouseOver;\r\n            var isMouseOver = e.nativeEvent.touches[0].clientX > buttonRect.left &&\r\n                e.nativeEvent.touches[0].clientX < buttonRect.right &&\r\n                e.nativeEvent.touches[0].clientY > buttonRect.top &&\r\n                e.nativeEvent.touches[0].clientY < buttonRect.bottom;\r\n            // Touch has left the button, cancel the longpress handler.\r\n            if (wasMouseOver && !isMouseOver) {\r\n                if (_this._longPressTimer) {\r\n                    clearTimeout(_this._longPressTimer);\r\n                }\r\n                if (_this.props.onHoverEnd) {\r\n                    _this.props.onHoverEnd(e);\r\n                }\r\n            }\r\n            _this._isMouseOver = isMouseOver;\r\n        };\r\n        _this._onMouseUp = function (e) {\r\n            if (!_this.props.disabled && _this.props.onPressOut) {\r\n                _this.props.onPressOut(e);\r\n            }\r\n            if (_this._longPressTimer) {\r\n                Timers_1.default.clearTimeout(_this._longPressTimer);\r\n            }\r\n        };\r\n        /**\r\n         * Case where onPressOut is not triggered and the bubbling is canceled:\r\n         * 1- Long press > release\r\n         *\r\n         * Cases where onPressOut is triggered:\r\n         * 2- Long press > leave button > release touch\r\n         * 3- Tap\r\n         *\r\n         * All other cases: onPressOut is not triggered and the bubbling is NOT canceled:\r\n         */\r\n        _this._onTouchEnd = function (e) {\r\n            if (_this._isMouseOver && _this._ignoreTouchEnd) {\r\n                /* 1 */\r\n                e.stopPropagation();\r\n            }\r\n            else if (\r\n            /* 2 */\r\n            !_this._isMouseOver && _this._ignoreTouchEnd ||\r\n                /* 3 */\r\n                _this._isMouseOver && !_this._ignoreTouchEnd) {\r\n                if ('touches' in e) {\r\n                    // Stop the to event sequence to prevent trigger button.onMouseDown\r\n                    e.preventDefault();\r\n                    if (_this.props.onPress) {\r\n                        _this.props.onPress(e);\r\n                    }\r\n                }\r\n                if (_this.props.onPressOut) {\r\n                    _this.props.onPressOut(e);\r\n                }\r\n            }\r\n            _this._ignoreTouchEnd = false;\r\n            if (_this._longPressTimer) {\r\n                Timers_1.default.clearTimeout(_this._longPressTimer);\r\n            }\r\n        };\r\n        _this._onMouseEnter = function (e) {\r\n            _this._isMouseOver = true;\r\n            _this._onHoverStart(e);\r\n        };\r\n        _this._onMouseLeave = function (e) {\r\n            _this._isMouseOver = false;\r\n            _this._onHoverEnd(e);\r\n            // The mouse is still down. A long press may be just happened. Re-enable the next click.\r\n            _this._ignoreClick = false;\r\n            // Cancel longpress if mouse has left.\r\n            if (_this._longPressTimer) {\r\n                Timers_1.default.clearTimeout(_this._longPressTimer);\r\n            }\r\n        };\r\n        // When we get focus on an element, show the hover effect on the element.\r\n        // This ensures that users using keyboard also get the similar experience as mouse users for accessibility.\r\n        _this._onFocus = function (e) {\r\n            _this._isFocusedWithKeyboard = UserInterface_1.default.isNavigatingWithKeyboard();\r\n            _this._onHoverStart(e);\r\n            if (_this.props.onFocus) {\r\n                _this.props.onFocus(e);\r\n            }\r\n        };\r\n        _this._onBlur = function (e) {\r\n            _this._isFocusedWithKeyboard = false;\r\n            _this._onHoverEnd(e);\r\n            if (_this.props.onBlur) {\r\n                _this.props.onBlur(e);\r\n            }\r\n        };\r\n        _this._onHoverStart = function (e) {\r\n            if (!_this._isHoverStarted && (_this._isMouseOver || _this._isFocusedWithKeyboard)) {\r\n                _this._isHoverStarted = true;\r\n                if (_this.props.onHoverStart) {\r\n                    _this.props.onHoverStart(e);\r\n                }\r\n            }\r\n        };\r\n        _this._onHoverEnd = function (e) {\r\n            if (_this._isHoverStarted && !_this._isMouseOver && !_this._isFocusedWithKeyboard) {\r\n                _this._isHoverStarted = false;\r\n                if (_this.props.onHoverEnd) {\r\n                    _this.props.onHoverEnd(e);\r\n                }\r\n            }\r\n        };\r\n        if (context && context.hasRxButtonAscendant) {\r\n            if (AppConfig_1.default.isDevelopmentMode()) {\r\n                console.warn('Button components should not be embedded. Some APIs, e.g. Accessibility, will not work.');\r\n            }\r\n        }\r\n        return _this;\r\n    }\r\n    Button.prototype.getChildContext = function () {\r\n        return { hasRxButtonAscendant: true };\r\n    };\r\n    Button.prototype.render = function () {\r\n        var ariaRole = AccessibilityUtil_1.default.accessibilityTraitToString(this.props.accessibilityTraits, _defaultAccessibilityTrait);\r\n        var ariaSelected = AccessibilityUtil_1.default.accessibilityTraitToAriaSelected(this.props.accessibilityTraits);\r\n        var ariaChecked = AccessibilityUtil_1.default.accessibilityTraitToAriaChecked(this.props.accessibilityTraits);\r\n        var isAriaHidden = AccessibilityUtil_1.default.isHidden(this.props.importantForAccessibility);\r\n        var ariaHasPopup = AccessibilityUtil_1.default.accessibilityTraitToAriaHasPopup(this.props.accessibilityTraits);\r\n        // NOTE: We use tabIndex=0 to support focus.\r\n        return (React.createElement(\"button\", { ref: this._onMount, style: this._getStyles(), role: ariaRole, title: this.props.title, tabIndex: this.props.tabIndex, \"aria-label\": this.props.accessibilityLabel || this.props.title, \"aria-disabled\": this.props.disabled, \"aria-hidden\": isAriaHidden, \"aria-selected\": ariaSelected, \"aria-checked\": ariaChecked, onClick: this.onClick, onTouchStart: this._onMouseDown, onTouchMove: this._onTouchMove, onTouchEnd: this._onTouchEnd, onContextMenu: this._onContextMenu, onMouseDown: this._onMouseDown, onMouseUp: this._onMouseUp, onMouseEnter: this._onMouseEnter, onMouseLeave: this._onMouseLeave, onFocus: this._onFocus, onBlur: this._onBlur, onKeyDown: this.props.onKeyPress, disabled: this.props.disabled, \"aria-haspopup\": ariaHasPopup, \"aria-controls\": this.props.ariaControls, id: this.props.id, \"data-test-id\": this.props.testId }, this.props.children));\r\n    };\r\n    Button.prototype.componentDidMount = function () {\r\n        if (this.props.autoFocus) {\r\n            this.requestFocus();\r\n        }\r\n    };\r\n    Button.prototype.requestFocus = function () {\r\n        var _this = this;\r\n        AutoFocusHelper_1.FocusArbitratorProvider.requestFocus(this, function () { return _this.focus(); }, function () { return _this._mountedButton !== null; });\r\n    };\r\n    Button.prototype.focus = function () {\r\n        if (this._mountedButton) {\r\n            this._mountedButton.focus();\r\n        }\r\n    };\r\n    Button.prototype.blur = function () {\r\n        if (this._mountedButton) {\r\n            this._mountedButton.blur();\r\n        }\r\n    };\r\n    Button.prototype._getStyles = function () {\r\n        var buttonStyleMutations = {};\r\n        var buttonStyles = Styles_1.default.combine(this.props.style);\r\n        // Specify default style for padding only if padding is not already specified\r\n        if (buttonStyles && buttonStyles.padding === undefined &&\r\n            buttonStyles.paddingRight === undefined && buttonStyles.paddingLeft === undefined &&\r\n            buttonStyles.paddingBottom === undefined && buttonStyles.paddingTop === undefined &&\r\n            buttonStyles.paddingHorizontal === undefined && buttonStyles.paddingVertical === undefined) {\r\n            buttonStyleMutations.padding = 0;\r\n        }\r\n        if (this.props.disabled) {\r\n            buttonStyleMutations.opacity = this.props.disabledOpacity !== undefined ? this.props.disabledOpacity : 0.5;\r\n        }\r\n        // Default to 'pointer' cursor for enabled buttons unless otherwise specified.\r\n        if (!buttonStyles || !buttonStyles.cursor) {\r\n            buttonStyleMutations.cursor = this.props.disabled ? 'default' : 'pointer';\r\n        }\r\n        return Styles_1.default.combine([_styles.defaultButton, buttonStyles, buttonStyleMutations]);\r\n    };\r\n    Button.contextTypes = {\r\n        hasRxButtonAscendant: PropTypes.bool,\r\n        focusArbitrator: PropTypes.object,\r\n    };\r\n    Button.childContextTypes = {\r\n        hasRxButtonAscendant: PropTypes.bool,\r\n    };\r\n    return Button;\r\n}(Interfaces_1.Button));\r\nexports.Button = Button;\r\nFocusManager_1.applyFocusableComponentMixin(Button);\r\nexports.default = Button;\r\n"]},"metadata":{},"sourceType":"script"}