{"ast":null,"code":"\"use strict\";\n/**\r\n * Linking.ts\r\n *\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT license.\r\n *\r\n * Common implementation for deep linking.\r\n */\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Linking = void 0;\n\nvar RX = require(\"./Interfaces\");\n\nvar lodashMini_1 = require(\"./lodashMini\"); // Collection of Regex that help validate an email.\n// The name can be any of these characters.\n\n\nvar emailNameRegex = /^[a-z0-9!#$%&'*+/=?^_`{|}~.@-]+$/i; // However, the name cannot contain '..', or start/end with '.'.\n\nvar emailNameConstraintViolationRegex = /\\.\\.|^\\.|\\.$/i; // The host is limited to these characters.\n\nvar emailHostRegex = /^[a-z0-9.-]+$/i; // However, the host cannot contain '..', start/end with '.', or have any (sub)domain start/end with '-'.\n\nvar emailHostConstraintViolationRegex = /\\.\\.|^[.-]|[.-]$|\\.-|-\\./i;\n\nvar Linking =\n/** @class */\nfunction (_super) {\n  __extends(Linking, _super);\n\n  function Linking() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  } // Launches SMS app\n\n\n  Linking.prototype.launchSms = function (phoneInfo) {\n    // Format phone info\n    var phoneUrl = this._createSmsUrl(phoneInfo);\n\n    return this._openUrl(phoneUrl);\n  }; // Opens url\n\n\n  Linking.prototype.openUrl = function (url) {\n    return this._openUrl(url);\n  }; // Escaped Email uri - mailto:[emailAddress]?subject=<emailSubject>&body=<emailBody>\n\n\n  Linking.prototype._createEmailUrl = function (emailInfo) {\n    var emailUrl = 'mailto:';\n    var validEmails;\n\n    if (emailInfo.to && emailInfo.to.length > 0) {\n      validEmails = this._filterValidEmails(emailInfo.to);\n      emailUrl += validEmails.join(',');\n    }\n\n    emailUrl += '?';\n\n    if (emailInfo.cc && emailInfo.cc.length > 0) {\n      validEmails = this._filterValidEmails(emailInfo.cc);\n      emailUrl += 'cc=' + validEmails.join(',') + '&';\n    }\n\n    if (emailInfo.bcc && emailInfo.bcc.length > 0) {\n      validEmails = this._filterValidEmails(emailInfo.bcc);\n      emailUrl += 'bcc=' + validEmails.join(',') + '&';\n    }\n\n    if (emailInfo.subject) {\n      emailUrl += 'subject=' + encodeURIComponent(emailInfo.subject) + '&';\n    }\n\n    if (emailInfo.body) {\n      emailUrl += 'body=' + encodeURIComponent(emailInfo.body);\n    }\n\n    return emailUrl;\n  }; // Escaped SMS uri - sms:<phoneNumber>?body=<messageString>\n\n\n  Linking.prototype._createSmsUrl = function (smsInfo) {\n    var smsUrl = 'sms:';\n\n    if (smsInfo.phoneNumber) {\n      smsUrl += encodeURI(smsInfo.phoneNumber);\n    }\n\n    if (smsInfo.body) {\n      smsUrl += '?body=' + encodeURIComponent(smsInfo.body);\n    }\n\n    return smsUrl;\n  };\n\n  Linking.prototype._isEmailValid = function (email) {\n    // Emails have a max length of 254, and the smallest email looks like 'a@io' (with length 4).\n    if (!email || email.length > 254 || email.length < 4) {\n      return false;\n    } // Note: using 'last' since '@' is valid in the name (but not the host, otherwise it would be impossible to parse).\n\n\n    var lastAtIndex = email.lastIndexOf('@'); // Email must have an '@', and there must be characters on each side of the '@'.\n    // Note: the host must have at least two characters.\n\n    if (lastAtIndex === -1 || lastAtIndex === 0 || lastAtIndex >= email.length - 2) {\n      return false;\n    }\n\n    var name = email.substring(0, lastAtIndex);\n    var host = email.substring(lastAtIndex + 1);\n    return !emailNameConstraintViolationRegex.test(name) && !emailHostConstraintViolationRegex.test(host) && emailNameRegex.test(name) && emailHostRegex.test(host);\n  };\n\n  Linking.prototype._filterValidEmails = function (emails) {\n    var _this = this;\n\n    return lodashMini_1.filter(emails, function (e) {\n      return _this._isEmailValid(e);\n    });\n  };\n\n  return Linking;\n}(RX.Linking);\n\nexports.Linking = Linking;","map":{"version":3,"sources":["/Users/dangthang/Desktop/webStreamGame/node_modules/react-ult/dist/common/Linking.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","defineProperty","exports","value","Linking","RX","require","lodashMini_1","emailNameRegex","emailNameConstraintViolationRegex","emailHostRegex","emailHostConstraintViolationRegex","_super","apply","arguments","launchSms","phoneInfo","phoneUrl","_createSmsUrl","_openUrl","openUrl","url","_createEmailUrl","emailInfo","emailUrl","validEmails","to","length","_filterValidEmails","join","cc","bcc","subject","encodeURIComponent","body","smsInfo","smsUrl","phoneNumber","encodeURI","_isEmailValid","email","lastAtIndex","lastIndexOf","name","substring","host","test","emails","_this","filter","e"],"mappings":"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","sourcesContent":["\"use strict\";\r\n/**\r\n * Linking.ts\r\n *\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT license.\r\n *\r\n * Common implementation for deep linking.\r\n */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Linking = void 0;\r\nvar RX = require(\"./Interfaces\");\r\nvar lodashMini_1 = require(\"./lodashMini\");\r\n// Collection of Regex that help validate an email.\r\n// The name can be any of these characters.\r\nvar emailNameRegex = /^[a-z0-9!#$%&'*+/=?^_`{|}~.@-]+$/i;\r\n// However, the name cannot contain '..', or start/end with '.'.\r\nvar emailNameConstraintViolationRegex = /\\.\\.|^\\.|\\.$/i;\r\n// The host is limited to these characters.\r\nvar emailHostRegex = /^[a-z0-9.-]+$/i;\r\n// However, the host cannot contain '..', start/end with '.', or have any (sub)domain start/end with '-'.\r\nvar emailHostConstraintViolationRegex = /\\.\\.|^[.-]|[.-]$|\\.-|-\\./i;\r\nvar Linking = /** @class */ (function (_super) {\r\n    __extends(Linking, _super);\r\n    function Linking() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    // Launches SMS app\r\n    Linking.prototype.launchSms = function (phoneInfo) {\r\n        // Format phone info\r\n        var phoneUrl = this._createSmsUrl(phoneInfo);\r\n        return this._openUrl(phoneUrl);\r\n    };\r\n    // Opens url\r\n    Linking.prototype.openUrl = function (url) {\r\n        return this._openUrl(url);\r\n    };\r\n    // Escaped Email uri - mailto:[emailAddress]?subject=<emailSubject>&body=<emailBody>\r\n    Linking.prototype._createEmailUrl = function (emailInfo) {\r\n        var emailUrl = 'mailto:';\r\n        var validEmails;\r\n        if (emailInfo.to && emailInfo.to.length > 0) {\r\n            validEmails = this._filterValidEmails(emailInfo.to);\r\n            emailUrl += validEmails.join(',');\r\n        }\r\n        emailUrl += '?';\r\n        if (emailInfo.cc && emailInfo.cc.length > 0) {\r\n            validEmails = this._filterValidEmails(emailInfo.cc);\r\n            emailUrl += 'cc=' + validEmails.join(',') + '&';\r\n        }\r\n        if (emailInfo.bcc && emailInfo.bcc.length > 0) {\r\n            validEmails = this._filterValidEmails(emailInfo.bcc);\r\n            emailUrl += 'bcc=' + validEmails.join(',') + '&';\r\n        }\r\n        if (emailInfo.subject) {\r\n            emailUrl += 'subject=' + encodeURIComponent(emailInfo.subject) + '&';\r\n        }\r\n        if (emailInfo.body) {\r\n            emailUrl += 'body=' + encodeURIComponent(emailInfo.body);\r\n        }\r\n        return emailUrl;\r\n    };\r\n    // Escaped SMS uri - sms:<phoneNumber>?body=<messageString>\r\n    Linking.prototype._createSmsUrl = function (smsInfo) {\r\n        var smsUrl = 'sms:';\r\n        if (smsInfo.phoneNumber) {\r\n            smsUrl += encodeURI(smsInfo.phoneNumber);\r\n        }\r\n        if (smsInfo.body) {\r\n            smsUrl += '?body=' + encodeURIComponent(smsInfo.body);\r\n        }\r\n        return smsUrl;\r\n    };\r\n    Linking.prototype._isEmailValid = function (email) {\r\n        // Emails have a max length of 254, and the smallest email looks like 'a@io' (with length 4).\r\n        if (!email || email.length > 254 || email.length < 4) {\r\n            return false;\r\n        }\r\n        // Note: using 'last' since '@' is valid in the name (but not the host, otherwise it would be impossible to parse).\r\n        var lastAtIndex = email.lastIndexOf('@');\r\n        // Email must have an '@', and there must be characters on each side of the '@'.\r\n        // Note: the host must have at least two characters.\r\n        if (lastAtIndex === -1 || lastAtIndex === 0 || lastAtIndex >= email.length - 2) {\r\n            return false;\r\n        }\r\n        var name = email.substring(0, lastAtIndex);\r\n        var host = email.substring(lastAtIndex + 1);\r\n        return !emailNameConstraintViolationRegex.test(name)\r\n            && !emailHostConstraintViolationRegex.test(host)\r\n            && emailNameRegex.test(name)\r\n            && emailHostRegex.test(host);\r\n    };\r\n    Linking.prototype._filterValidEmails = function (emails) {\r\n        var _this = this;\r\n        return lodashMini_1.filter(emails, function (e) { return _this._isEmailValid(e); });\r\n    };\r\n    return Linking;\r\n}(RX.Linking));\r\nexports.Linking = Linking;\r\n"]},"metadata":{},"sourceType":"script"}