{"ast":null,"code":"\"use strict\";\n/**\r\n * ScrollView.tsx\r\n *\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT license.\r\n *\r\n * Web-specific implementation of the cross-platform ScrollView abstraction.\r\n */\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ScrollView = void 0;\n\nvar React = require(\"react\");\n\nvar ReactDOM = require(\"react-dom\");\n\nvar Timers_1 = require(\"../common/utils/Timers\");\n\nvar CustomScrollbar_1 = require(\"./CustomScrollbar\");\n\nvar _ = require(\"./utils/lodashMini\");\n\nvar ScrollViewConfig_1 = require(\"./ScrollViewConfig\");\n\nvar Styles_1 = require(\"./Styles\");\n\nvar ViewBase_1 = require(\"./ViewBase\");\n\nvar _styles = {\n  defaultStyle: {\n    position: 'relative',\n    overflow: 'hidden',\n    alignSelf: 'stretch',\n    flexGrow: 1,\n    flexShrink: 1,\n    // This forces some browsers (like Chrome) to create a new render context,\n    // which can significantly speed up scrolling.\n    transform: 'translateZ(0)'\n  },\n  verticalStyle: {\n    flexDirection: 'column',\n    overflowY: 'auto',\n    overflowX: 'hidden'\n  },\n  horizontalStyle: {\n    flexDirection: 'row',\n    overflowY: 'hidden',\n    overflowX: 'auto'\n  }\n};\nvar _initializedCustomStyles = false;\nvar _customStyles = {\n  defaultStyle: {\n    overflow: 'hidden',\n    msOverflowStyle: 'auto',\n    flexDirection: 'column',\n    // This forces some browsers (like Chrome) to create a new render context,\n    // which can significantly speed up scrolling.\n    transform: 'translateZ(0)'\n  },\n  verticalStyle: {},\n  horizontalStyle: {},\n  customScrollContainer: {\n    position: 'relative',\n    overflow: 'hidden',\n    boxSizing: 'border-box',\n    alignSelf: 'stretch'\n  },\n  customScrollVertical: {\n    // Set flex only for vertical scroll view.\n    // Don't set flex for horizontal scroll view, otherwise it disappears.\n    display: 'flex',\n    flex: '1 1 0px'\n  }\n}; // Default to once per frame.\n\nvar _defaultScrollThrottleValue = 1000 / 60;\n\nvar ScrollView =\n/** @class */\nfunction (_super) {\n  __extends(ScrollView, _super);\n\n  function ScrollView(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._mountedComponent = null;\n    _this._mounted = false;\n    _this._customScrollbarEnabled = true;\n    _this._dragging = false; // Throttled scroll handler\n\n    _this._onScroll = _.throttle(function (e) {\n      if (!_this._mounted) {\n        return;\n      }\n\n      if (_this._customScrollbarEnabled && _this._customScrollbar) {\n        _this._customScrollbar.update();\n      } // Check if this should be also fire an onLayout event\n      // The browser sends a scroll event when resizing\n\n\n      var onLayoutPromise = _this._checkAndReportLayout(); // Recent versions of Chrome have started to defer all timers until\n      // after scrolling has completed. Because of this, our deferred layout\n      // reporting sometimes doesn't get handled for up to seconds at a time.\n      // Force the list of deferred changes to be reported now.\n\n\n      ViewBase_1.default._reportDeferredLayoutChanges();\n\n      if (_this.props.onScroll || _this.props.scrollXAnimatedValue || _this.props.scrollYAnimatedValue) {\n        onLayoutPromise.then(function () {\n          var container = _this._getContainer();\n\n          if (!container) {\n            return;\n          }\n\n          if (_this.props.onScroll) {\n            _this.props.onScroll(container.scrollTop, container.scrollLeft);\n          }\n\n          if (_this.props.scrollXAnimatedValue) {\n            _this.props.scrollXAnimatedValue.setValue(container.scrollLeft);\n          }\n\n          if (_this.props.scrollYAnimatedValue) {\n            _this.props.scrollYAnimatedValue.setValue(container.scrollTop);\n          }\n        }).catch(function (e) {\n          console.warn('ScrollView onLayout exception: ' + JSON.stringify(e));\n        });\n      }\n    }, _this.props.scrollEventThrottle || _defaultScrollThrottleValue, {\n      leading: true,\n      trailing: true\n    });\n\n    _this._onMount = function (component) {\n      _this._mountedComponent = component;\n    };\n\n    _this._onTouchStart = function () {\n      if (!_this._dragging) {\n        _this._dragging = true;\n\n        if (_this.props.onScrollBeginDrag) {\n          _this.props.onScrollBeginDrag();\n        }\n      }\n    };\n\n    _this._onTouchEnd = function () {\n      _this._dragging = false;\n\n      if (_this.props.onScrollEndDrag) {\n        _this.props.onScrollEndDrag();\n      }\n    }; // Set final styles upon initialization of the first ScrollView. This was previously done in the head\n    // of this file, but it broke the pattern of not doing external work (such as accessing the document\n    // object) on Types initialization.\n\n\n    if (!_initializedCustomStyles) {\n      _initializedCustomStyles = true;\n      var nativeScrollbarWidth = CustomScrollbar_1.default.getNativeScrollbarWidth();\n      _customStyles.verticalStyle = {\n        overflowY: 'scroll',\n        paddingRight: 30 - nativeScrollbarWidth,\n        marginRight: -30,\n        // Fixes a bug for Chrome beta where the parent flexbox (customScrollContainer) doesn't\n        // recognize that its child got populated with items. Smallest default width gives an\n        // indication that content will exist here.\n        minHeight: 0\n      };\n      _customStyles.horizontalStyle = {\n        // The display needs to be set to flex, otherwise the scrollview incorrectly shows up vertically.\n        display: 'flex',\n        overflowX: 'scroll',\n        paddingBottom: 30 - nativeScrollbarWidth,\n        marginBottom: -30,\n        // Fixes a bug for Chrome beta where the parent flexbox (customScrollContainer) doesn't\n        // recognize that its child got populated with items. Smallest default width gives an\n        // indication that content will exist here.\n        minWidth: 0\n      };\n    }\n\n    return _this;\n  }\n\n  ScrollView.prototype.componentDidUpdate = function () {\n    var _this = this;\n\n    _super.prototype.componentDidUpdate.call(this);\n\n    if (!this.props.onContentSizeChange) {\n      return;\n    }\n\n    _.defer(function () {\n      if (_this.props.onContentSizeChange) {\n        var container = _this._getContainer();\n\n        if (!container) {\n          return;\n        }\n\n        _this.props.onContentSizeChange(container.scrollWidth, container.scrollHeight);\n      }\n    });\n  };\n\n  ScrollView.prototype.render = function () {\n    return this._customScrollbarEnabled ? this._renderWithCustomScrollbar() : this._renderNormal();\n  };\n\n  ScrollView.prototype.UNSAFE_componentWillMount = function () {\n    this._onPropsChange(this.props);\n  };\n\n  ScrollView.prototype.componentDidMount = function () {\n    _super.prototype.componentDidMount.call(this);\n\n    this._mounted = true;\n\n    this._createCustomScrollbarsIfNeeded(this.props);\n  };\n\n  ScrollView.prototype.UNSAFE_componentWillReceiveProps = function (newProps) {\n    _super.prototype.UNSAFE_componentWillReceiveProps.call(this, newProps);\n\n    this._onPropsChange(newProps);\n  };\n\n  ScrollView.prototype.componentWillUnmount = function () {\n    _super.prototype.componentWillUnmount.call(this);\n\n    this._mounted = false;\n\n    if (this._customScrollbar) {\n      this._customScrollbar.dispose();\n\n      this._customScrollbar = undefined;\n    }\n  };\n\n  ScrollView.prototype._getContainer = function () {\n    return this._mountedComponent;\n  };\n\n  ScrollView.prototype._onPropsChange = function (props) {\n    this._customScrollbarEnabled = ScrollViewConfig_1.default.useCustomScrollbars(); // If we're turning on custom scrollbars or toggling vertical and/or horizontal, we need to re-create\n    // the scrollbar.\n\n    this._createCustomScrollbarsIfNeeded(props);\n  };\n\n  ScrollView.prototype._createCustomScrollbarsIfNeeded = function (props) {\n    if (this._mounted && this._customScrollbarEnabled) {\n      if (this._customScrollbar) {\n        if (this.props.horizontal === props.horizontal && this.props.showsHorizontalScrollIndicator === props.showsHorizontalScrollIndicator && this.props.showsVerticalScrollIndicator === props.showsVerticalScrollIndicator) {\n          // No need to re-create the scrollbar.\n          return;\n        }\n\n        this._customScrollbar.dispose();\n\n        this._customScrollbar = undefined;\n      }\n\n      var element = ReactDOM.findDOMNode(this);\n\n      if (element) {\n        this._customScrollbar = new CustomScrollbar_1.default(element);\n        var horizontalHidden = props.horizontal && props.showsHorizontalScrollIndicator === false;\n        var verticalHidden = !props.horizontal && props.showsVerticalScrollIndicator === false;\n\n        this._customScrollbar.init({\n          horizontal: props.horizontal && !horizontalHidden,\n          vertical: !props.horizontal && !verticalHidden,\n          hiddenScrollbar: horizontalHidden || verticalHidden\n        });\n      }\n    }\n  };\n\n  ScrollView.prototype._getContainerStyle = function () {\n    var _a = this.props.scrollEnabled,\n        scrollEnabled = _a === void 0 ? true : _a;\n    var styles = [{\n      display: 'block'\n    }];\n    var sourceStyles = this._customScrollbarEnabled ? _customStyles : _styles;\n    styles.push(sourceStyles.defaultStyle);\n\n    if (scrollEnabled && this.props.horizontal) {\n      styles.push(sourceStyles.horizontalStyle);\n    } else if (scrollEnabled) {\n      styles.push(sourceStyles.verticalStyle);\n    }\n\n    return Styles_1.default.combine([styles, this.props.style]);\n  };\n\n  ScrollView.prototype._renderNormal = function () {\n    return React.createElement(\"div\", {\n      ref: this._onMount,\n      role: 'none',\n      onScroll: this._onScroll,\n      onTouchStart: this._onTouchStart,\n      onTouchEnd: this._onTouchEnd,\n      style: this._getContainerStyle(),\n      onKeyDown: this.props.onKeyPress,\n      onFocus: this.props.onFocus,\n      onBlur: this.props.onBlur,\n      \"data-test-id\": this.props.testId\n    }, this.props.children);\n  };\n\n  ScrollView.prototype._renderWithCustomScrollbar = function () {\n    var containerStyles = _customStyles.customScrollContainer;\n    var scrollComponentClassNames = ['scrollViewport'];\n\n    if (this.props.horizontal) {\n      scrollComponentClassNames.push('scrollViewportH');\n    } else {\n      scrollComponentClassNames.push('scrollViewportV');\n      containerStyles = _.extend({}, _customStyles.customScrollVertical, containerStyles);\n    }\n\n    return React.createElement(\"div\", {\n      role: 'none',\n      className: 'rxCustomScroll',\n      style: containerStyles,\n      \"data-test-id\": this.props.testId\n    }, React.createElement(\"div\", {\n      ref: this._onMount,\n      role: 'none',\n      className: scrollComponentClassNames.join(' '),\n      onScroll: this._onScroll,\n      style: this._getContainerStyle(),\n      onKeyDown: this.props.onKeyPress,\n      onFocus: this.props.onFocus,\n      onBlur: this.props.onBlur,\n      onTouchStart: this._onTouchStart,\n      onTouchEnd: this._onTouchEnd\n    }, this.props.children));\n  };\n\n  ScrollView.prototype.setScrollTop = function (scrollTop, animate) {\n    var _this = this;\n\n    if (animate === void 0) {\n      animate = false;\n    }\n\n    var container = this._getContainer();\n\n    if (!container) {\n      return;\n    }\n\n    this._onScroll.cancel();\n\n    if (animate) {\n      var start_1 = container.scrollTop;\n      var change_1 = scrollTop - start_1;\n      var increment_1 = 20;\n      var duration_1 = 200;\n\n      var animateScroll_1 = function (elapsedTime) {\n        elapsedTime += increment_1;\n\n        var position = _this._easeInOut(elapsedTime, start_1, change_1, duration_1);\n\n        container.scrollTop = position;\n\n        if (elapsedTime < duration_1) {\n          Timers_1.default.setTimeout(function () {\n            animateScroll_1(elapsedTime);\n          }, increment_1);\n        }\n      };\n\n      animateScroll_1(0);\n    } else {\n      container.scrollTop = scrollTop;\n    }\n  };\n\n  ScrollView.prototype.setScrollLeft = function (scrollLeft, animate) {\n    var _this = this;\n\n    if (animate === void 0) {\n      animate = false;\n    }\n\n    var container = this._getContainer();\n\n    if (!container) {\n      return;\n    }\n\n    this._onScroll.cancel();\n\n    if (animate) {\n      var start_2 = container.scrollLeft;\n      var change_2 = scrollLeft - start_2;\n      var increment_2 = 20;\n      var duration_2 = 200;\n\n      var animateScroll_2 = function (elapsedTime) {\n        elapsedTime += increment_2;\n\n        var position = _this._easeInOut(elapsedTime, start_2, change_2, duration_2);\n\n        container.scrollLeft = position;\n\n        if (elapsedTime < duration_2) {\n          Timers_1.default.setTimeout(function () {\n            animateScroll_2(elapsedTime);\n          }, increment_2);\n        }\n      };\n\n      animateScroll_2(0);\n    } else {\n      container.scrollLeft = scrollLeft;\n    }\n  };\n\n  ScrollView.prototype._easeInOut = function (currentTime, start, change, duration) {\n    currentTime /= duration / 2;\n\n    if (currentTime < 1) {\n      return change / 2 * currentTime * currentTime + start;\n    }\n\n    currentTime -= 1;\n    return -change / 2 * (currentTime * (currentTime - 2) - 1) + start;\n  };\n\n  return ScrollView;\n}(ViewBase_1.default);\n\nexports.ScrollView = ScrollView;\nexports.default = ScrollView;","map":{"version":3,"sources":["/Users/dangthang/Desktop/webStreamGame/node_modules/react-ult/dist/web/ScrollView.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","defineProperty","exports","value","ScrollView","React","require","ReactDOM","Timers_1","CustomScrollbar_1","_","ScrollViewConfig_1","Styles_1","ViewBase_1","_styles","defaultStyle","position","overflow","alignSelf","flexGrow","flexShrink","transform","verticalStyle","flexDirection","overflowY","overflowX","horizontalStyle","_initializedCustomStyles","_customStyles","msOverflowStyle","customScrollContainer","boxSizing","customScrollVertical","display","flex","_defaultScrollThrottleValue","_super","props","_this","_mountedComponent","_mounted","_customScrollbarEnabled","_dragging","_onScroll","throttle","e","_customScrollbar","update","onLayoutPromise","_checkAndReportLayout","default","_reportDeferredLayoutChanges","onScroll","scrollXAnimatedValue","scrollYAnimatedValue","then","container","_getContainer","scrollTop","scrollLeft","setValue","catch","console","warn","JSON","stringify","scrollEventThrottle","leading","trailing","_onMount","component","_onTouchStart","onScrollBeginDrag","_onTouchEnd","onScrollEndDrag","nativeScrollbarWidth","getNativeScrollbarWidth","paddingRight","marginRight","minHeight","paddingBottom","marginBottom","minWidth","componentDidUpdate","onContentSizeChange","defer","scrollWidth","scrollHeight","render","_renderWithCustomScrollbar","_renderNormal","UNSAFE_componentWillMount","_onPropsChange","componentDidMount","_createCustomScrollbarsIfNeeded","UNSAFE_componentWillReceiveProps","newProps","componentWillUnmount","dispose","undefined","useCustomScrollbars","horizontal","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","element","findDOMNode","horizontalHidden","verticalHidden","init","vertical","hiddenScrollbar","_getContainerStyle","_a","scrollEnabled","styles","sourceStyles","push","combine","style","createElement","ref","role","onTouchStart","onTouchEnd","onKeyDown","onKeyPress","onFocus","onBlur","testId","children","containerStyles","scrollComponentClassNames","extend","className","join","setScrollTop","animate","cancel","start_1","change_1","increment_1","duration_1","animateScroll_1","elapsedTime","_easeInOut","setTimeout","setScrollLeft","start_2","change_2","increment_2","duration_2","animateScroll_2","currentTime","start","change","duration"],"mappings":"AAAA;AACA;;;;;;;;;AAQA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIC,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EAAgDN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAFrG;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASS,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBX,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACO,SAAF,GAAcN,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACU,MAAP,CAAcX,CAAd,CAAb,IAAiCS,EAAE,CAACH,SAAH,GAAeN,CAAC,CAACM,SAAjB,EAA4B,IAAIG,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;;AAaAR,MAAM,CAACW,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,UAAR,GAAqB,KAAK,CAA1B;;AACA,IAAIC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIC,QAAQ,GAAGD,OAAO,CAAC,WAAD,CAAtB;;AACA,IAAIE,QAAQ,GAAGF,OAAO,CAAC,wBAAD,CAAtB;;AACA,IAAIG,iBAAiB,GAAGH,OAAO,CAAC,mBAAD,CAA/B;;AACA,IAAII,CAAC,GAAGJ,OAAO,CAAC,oBAAD,CAAf;;AACA,IAAIK,kBAAkB,GAAGL,OAAO,CAAC,oBAAD,CAAhC;;AACA,IAAIM,QAAQ,GAAGN,OAAO,CAAC,UAAD,CAAtB;;AACA,IAAIO,UAAU,GAAGP,OAAO,CAAC,YAAD,CAAxB;;AACA,IAAIQ,OAAO,GAAG;AACVC,EAAAA,YAAY,EAAE;AACVC,IAAAA,QAAQ,EAAE,UADA;AAEVC,IAAAA,QAAQ,EAAE,QAFA;AAGVC,IAAAA,SAAS,EAAE,SAHD;AAIVC,IAAAA,QAAQ,EAAE,CAJA;AAKVC,IAAAA,UAAU,EAAE,CALF;AAMV;AACA;AACAC,IAAAA,SAAS,EAAE;AARD,GADJ;AAWVC,EAAAA,aAAa,EAAE;AACXC,IAAAA,aAAa,EAAE,QADJ;AAEXC,IAAAA,SAAS,EAAE,MAFA;AAGXC,IAAAA,SAAS,EAAE;AAHA,GAXL;AAgBVC,EAAAA,eAAe,EAAE;AACbH,IAAAA,aAAa,EAAE,KADF;AAEbC,IAAAA,SAAS,EAAE,QAFE;AAGbC,IAAAA,SAAS,EAAE;AAHE;AAhBP,CAAd;AAsBA,IAAIE,wBAAwB,GAAG,KAA/B;AACA,IAAIC,aAAa,GAAG;AAChBb,EAAAA,YAAY,EAAE;AACVE,IAAAA,QAAQ,EAAE,QADA;AAEVY,IAAAA,eAAe,EAAE,MAFP;AAGVN,IAAAA,aAAa,EAAE,QAHL;AAIV;AACA;AACAF,IAAAA,SAAS,EAAE;AAND,GADE;AAShBC,EAAAA,aAAa,EAAE,EATC;AAUhBI,EAAAA,eAAe,EAAE,EAVD;AAWhBI,EAAAA,qBAAqB,EAAE;AACnBd,IAAAA,QAAQ,EAAE,UADS;AAEnBC,IAAAA,QAAQ,EAAE,QAFS;AAGnBc,IAAAA,SAAS,EAAE,YAHQ;AAInBb,IAAAA,SAAS,EAAE;AAJQ,GAXP;AAiBhBc,EAAAA,oBAAoB,EAAE;AAClB;AACA;AACAC,IAAAA,OAAO,EAAE,MAHS;AAIlBC,IAAAA,IAAI,EAAE;AAJY;AAjBN,CAApB,C,CAwBA;;AACA,IAAIC,2BAA2B,GAAG,OAAO,EAAzC;;AACA,IAAI/B,UAAU;AAAG;AAAe,UAAUgC,MAAV,EAAkB;AAC9ClD,EAAAA,SAAS,CAACkB,UAAD,EAAagC,MAAb,CAAT;;AACA,WAAShC,UAAT,CAAoBiC,KAApB,EAA2B;AACvB,QAAIC,KAAK,GAAGF,MAAM,CAACvC,IAAP,CAAY,IAAZ,EAAkBwC,KAAlB,KAA4B,IAAxC;;AACAC,IAAAA,KAAK,CAACC,iBAAN,GAA0B,IAA1B;AACAD,IAAAA,KAAK,CAACE,QAAN,GAAiB,KAAjB;AACAF,IAAAA,KAAK,CAACG,uBAAN,GAAgC,IAAhC;AACAH,IAAAA,KAAK,CAACI,SAAN,GAAkB,KAAlB,CALuB,CAMvB;;AACAJ,IAAAA,KAAK,CAACK,SAAN,GAAkBjC,CAAC,CAACkC,QAAF,CAAW,UAAUC,CAAV,EAAa;AACtC,UAAI,CAACP,KAAK,CAACE,QAAX,EAAqB;AACjB;AACH;;AACD,UAAIF,KAAK,CAACG,uBAAN,IAAiCH,KAAK,CAACQ,gBAA3C,EAA6D;AACzDR,QAAAA,KAAK,CAACQ,gBAAN,CAAuBC,MAAvB;AACH,OANqC,CAOtC;AACA;;;AACA,UAAIC,eAAe,GAAGV,KAAK,CAACW,qBAAN,EAAtB,CATsC,CAUtC;AACA;AACA;AACA;;;AACApC,MAAAA,UAAU,CAACqC,OAAX,CAAmBC,4BAAnB;;AACA,UAAIb,KAAK,CAACD,KAAN,CAAYe,QAAZ,IAAwBd,KAAK,CAACD,KAAN,CAAYgB,oBAApC,IAA4Df,KAAK,CAACD,KAAN,CAAYiB,oBAA5E,EAAkG;AAC9FN,QAAAA,eAAe,CAACO,IAAhB,CAAqB,YAAY;AAC7B,cAAIC,SAAS,GAAGlB,KAAK,CAACmB,aAAN,EAAhB;;AACA,cAAI,CAACD,SAAL,EAAgB;AACZ;AACH;;AACD,cAAIlB,KAAK,CAACD,KAAN,CAAYe,QAAhB,EAA0B;AACtBd,YAAAA,KAAK,CAACD,KAAN,CAAYe,QAAZ,CAAqBI,SAAS,CAACE,SAA/B,EAA0CF,SAAS,CAACG,UAApD;AACH;;AACD,cAAIrB,KAAK,CAACD,KAAN,CAAYgB,oBAAhB,EAAsC;AAClCf,YAAAA,KAAK,CAACD,KAAN,CAAYgB,oBAAZ,CAAiCO,QAAjC,CAA0CJ,SAAS,CAACG,UAApD;AACH;;AACD,cAAIrB,KAAK,CAACD,KAAN,CAAYiB,oBAAhB,EAAsC;AAClChB,YAAAA,KAAK,CAACD,KAAN,CAAYiB,oBAAZ,CAAiCM,QAAjC,CAA0CJ,SAAS,CAACE,SAApD;AACH;AACJ,SAdD,EAcGG,KAdH,CAcS,UAAUhB,CAAV,EAAa;AAClBiB,UAAAA,OAAO,CAACC,IAAR,CAAa,oCAAoCC,IAAI,CAACC,SAAL,CAAepB,CAAf,CAAjD;AACH,SAhBD;AAiBH;AACJ,KAlCiB,EAkCdP,KAAK,CAACD,KAAN,CAAY6B,mBAAZ,IAAmC/B,2BAlCrB,EAkCmD;AAAEgC,MAAAA,OAAO,EAAE,IAAX;AAAiBC,MAAAA,QAAQ,EAAE;AAA3B,KAlCnD,CAAlB;;AAmCA9B,IAAAA,KAAK,CAAC+B,QAAN,GAAiB,UAAUC,SAAV,EAAqB;AAClChC,MAAAA,KAAK,CAACC,iBAAN,GAA0B+B,SAA1B;AACH,KAFD;;AAGAhC,IAAAA,KAAK,CAACiC,aAAN,GAAsB,YAAY;AAC9B,UAAI,CAACjC,KAAK,CAACI,SAAX,EAAsB;AAClBJ,QAAAA,KAAK,CAACI,SAAN,GAAkB,IAAlB;;AACA,YAAIJ,KAAK,CAACD,KAAN,CAAYmC,iBAAhB,EAAmC;AAC/BlC,UAAAA,KAAK,CAACD,KAAN,CAAYmC,iBAAZ;AACH;AACJ;AACJ,KAPD;;AAQAlC,IAAAA,KAAK,CAACmC,WAAN,GAAoB,YAAY;AAC5BnC,MAAAA,KAAK,CAACI,SAAN,GAAkB,KAAlB;;AACA,UAAIJ,KAAK,CAACD,KAAN,CAAYqC,eAAhB,EAAiC;AAC7BpC,QAAAA,KAAK,CAACD,KAAN,CAAYqC,eAAZ;AACH;AACJ,KALD,CArDuB,CA2DvB;AACA;AACA;;;AACA,QAAI,CAAC/C,wBAAL,EAA+B;AAC3BA,MAAAA,wBAAwB,GAAG,IAA3B;AACA,UAAIgD,oBAAoB,GAAGlE,iBAAiB,CAACyC,OAAlB,CAA0B0B,uBAA1B,EAA3B;AACAhD,MAAAA,aAAa,CAACN,aAAd,GAA8B;AAC1BE,QAAAA,SAAS,EAAE,QADe;AAE1BqD,QAAAA,YAAY,EAAE,KAAKF,oBAFO;AAG1BG,QAAAA,WAAW,EAAE,CAAC,EAHY;AAI1B;AACA;AACA;AACAC,QAAAA,SAAS,EAAE;AAPe,OAA9B;AASAnD,MAAAA,aAAa,CAACF,eAAd,GAAgC;AAC5B;AACAO,QAAAA,OAAO,EAAE,MAFmB;AAG5BR,QAAAA,SAAS,EAAE,QAHiB;AAI5BuD,QAAAA,aAAa,EAAE,KAAKL,oBAJQ;AAK5BM,QAAAA,YAAY,EAAE,CAAC,EALa;AAM5B;AACA;AACA;AACAC,QAAAA,QAAQ,EAAE;AATkB,OAAhC;AAWH;;AACD,WAAO5C,KAAP;AACH;;AACDlC,EAAAA,UAAU,CAACT,SAAX,CAAqBwF,kBAArB,GAA0C,YAAY;AAClD,QAAI7C,KAAK,GAAG,IAAZ;;AACAF,IAAAA,MAAM,CAACzC,SAAP,CAAiBwF,kBAAjB,CAAoCtF,IAApC,CAAyC,IAAzC;;AACA,QAAI,CAAC,KAAKwC,KAAL,CAAW+C,mBAAhB,EAAqC;AACjC;AACH;;AACD1E,IAAAA,CAAC,CAAC2E,KAAF,CAAQ,YAAY;AAChB,UAAI/C,KAAK,CAACD,KAAN,CAAY+C,mBAAhB,EAAqC;AACjC,YAAI5B,SAAS,GAAGlB,KAAK,CAACmB,aAAN,EAAhB;;AACA,YAAI,CAACD,SAAL,EAAgB;AACZ;AACH;;AACDlB,QAAAA,KAAK,CAACD,KAAN,CAAY+C,mBAAZ,CAAgC5B,SAAS,CAAC8B,WAA1C,EAAuD9B,SAAS,CAAC+B,YAAjE;AACH;AACJ,KARD;AASH,GAfD;;AAgBAnF,EAAAA,UAAU,CAACT,SAAX,CAAqB6F,MAArB,GAA8B,YAAY;AACtC,WAAO,KAAK/C,uBAAL,GAA+B,KAAKgD,0BAAL,EAA/B,GAAmE,KAAKC,aAAL,EAA1E;AACH,GAFD;;AAGAtF,EAAAA,UAAU,CAACT,SAAX,CAAqBgG,yBAArB,GAAiD,YAAY;AACzD,SAAKC,cAAL,CAAoB,KAAKvD,KAAzB;AACH,GAFD;;AAGAjC,EAAAA,UAAU,CAACT,SAAX,CAAqBkG,iBAArB,GAAyC,YAAY;AACjDzD,IAAAA,MAAM,CAACzC,SAAP,CAAiBkG,iBAAjB,CAAmChG,IAAnC,CAAwC,IAAxC;;AACA,SAAK2C,QAAL,GAAgB,IAAhB;;AACA,SAAKsD,+BAAL,CAAqC,KAAKzD,KAA1C;AACH,GAJD;;AAKAjC,EAAAA,UAAU,CAACT,SAAX,CAAqBoG,gCAArB,GAAwD,UAAUC,QAAV,EAAoB;AACxE5D,IAAAA,MAAM,CAACzC,SAAP,CAAiBoG,gCAAjB,CAAkDlG,IAAlD,CAAuD,IAAvD,EAA6DmG,QAA7D;;AACA,SAAKJ,cAAL,CAAoBI,QAApB;AACH,GAHD;;AAIA5F,EAAAA,UAAU,CAACT,SAAX,CAAqBsG,oBAArB,GAA4C,YAAY;AACpD7D,IAAAA,MAAM,CAACzC,SAAP,CAAiBsG,oBAAjB,CAAsCpG,IAAtC,CAA2C,IAA3C;;AACA,SAAK2C,QAAL,GAAgB,KAAhB;;AACA,QAAI,KAAKM,gBAAT,EAA2B;AACvB,WAAKA,gBAAL,CAAsBoD,OAAtB;;AACA,WAAKpD,gBAAL,GAAwBqD,SAAxB;AACH;AACJ,GAPD;;AAQA/F,EAAAA,UAAU,CAACT,SAAX,CAAqB8D,aAArB,GAAqC,YAAY;AAC7C,WAAO,KAAKlB,iBAAZ;AACH,GAFD;;AAGAnC,EAAAA,UAAU,CAACT,SAAX,CAAqBiG,cAArB,GAAsC,UAAUvD,KAAV,EAAiB;AACnD,SAAKI,uBAAL,GAA+B9B,kBAAkB,CAACuC,OAAnB,CAA2BkD,mBAA3B,EAA/B,CADmD,CAEnD;AACA;;AACA,SAAKN,+BAAL,CAAqCzD,KAArC;AACH,GALD;;AAMAjC,EAAAA,UAAU,CAACT,SAAX,CAAqBmG,+BAArB,GAAuD,UAAUzD,KAAV,EAAiB;AACpE,QAAI,KAAKG,QAAL,IAAiB,KAAKC,uBAA1B,EAAmD;AAC/C,UAAI,KAAKK,gBAAT,EAA2B;AACvB,YAAI,KAAKT,KAAL,CAAWgE,UAAX,KAA0BhE,KAAK,CAACgE,UAAhC,IACA,KAAKhE,KAAL,CAAWiE,8BAAX,KAA8CjE,KAAK,CAACiE,8BADpD,IAEA,KAAKjE,KAAL,CAAWkE,4BAAX,KAA4ClE,KAAK,CAACkE,4BAFtD,EAEoF;AAChF;AACA;AACH;;AACD,aAAKzD,gBAAL,CAAsBoD,OAAtB;;AACA,aAAKpD,gBAAL,GAAwBqD,SAAxB;AACH;;AACD,UAAIK,OAAO,GAAGjG,QAAQ,CAACkG,WAAT,CAAqB,IAArB,CAAd;;AACA,UAAID,OAAJ,EAAa;AACT,aAAK1D,gBAAL,GAAwB,IAAIrC,iBAAiB,CAACyC,OAAtB,CAA8BsD,OAA9B,CAAxB;AACA,YAAIE,gBAAgB,GAAIrE,KAAK,CAACgE,UAAN,IAAoBhE,KAAK,CAACiE,8BAAN,KAAyC,KAArF;AACA,YAAIK,cAAc,GAAI,CAACtE,KAAK,CAACgE,UAAP,IAAqBhE,KAAK,CAACkE,4BAAN,KAAuC,KAAlF;;AACA,aAAKzD,gBAAL,CAAsB8D,IAAtB,CAA2B;AACvBP,UAAAA,UAAU,EAAEhE,KAAK,CAACgE,UAAN,IAAoB,CAACK,gBADV;AAEvBG,UAAAA,QAAQ,EAAE,CAACxE,KAAK,CAACgE,UAAP,IAAqB,CAACM,cAFT;AAGvBG,UAAAA,eAAe,EAAEJ,gBAAgB,IAAIC;AAHd,SAA3B;AAKH;AACJ;AACJ,GAxBD;;AAyBAvG,EAAAA,UAAU,CAACT,SAAX,CAAqBoH,kBAArB,GAA0C,YAAY;AAClD,QAAIC,EAAE,GAAG,KAAK3E,KAAL,CAAW4E,aAApB;AAAA,QAAmCA,aAAa,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,IAAhB,GAAuBA,EAA1E;AACA,QAAIE,MAAM,GAAG,CAAC;AAAEjF,MAAAA,OAAO,EAAE;AAAX,KAAD,CAAb;AACA,QAAIkF,YAAY,GAAG,KAAK1E,uBAAL,GAA+Bb,aAA/B,GAA+Cd,OAAlE;AACAoG,IAAAA,MAAM,CAACE,IAAP,CAAYD,YAAY,CAACpG,YAAzB;;AACA,QAAIkG,aAAa,IAAI,KAAK5E,KAAL,CAAWgE,UAAhC,EAA4C;AACxCa,MAAAA,MAAM,CAACE,IAAP,CAAYD,YAAY,CAACzF,eAAzB;AACH,KAFD,MAGK,IAAIuF,aAAJ,EAAmB;AACpBC,MAAAA,MAAM,CAACE,IAAP,CAAYD,YAAY,CAAC7F,aAAzB;AACH;;AACD,WAAOV,QAAQ,CAACsC,OAAT,CAAiBmE,OAAjB,CAAyB,CAACH,MAAD,EAAS,KAAK7E,KAAL,CAAWiF,KAApB,CAAzB,CAAP;AACH,GAZD;;AAaAlH,EAAAA,UAAU,CAACT,SAAX,CAAqB+F,aAArB,GAAqC,YAAY;AAC7C,WAAQrF,KAAK,CAACkH,aAAN,CAAoB,KAApB,EAA2B;AAAEC,MAAAA,GAAG,EAAE,KAAKnD,QAAZ;AAAsBoD,MAAAA,IAAI,EAAE,MAA5B;AAAoCrE,MAAAA,QAAQ,EAAE,KAAKT,SAAnD;AAA8D+E,MAAAA,YAAY,EAAE,KAAKnD,aAAjF;AAAgGoD,MAAAA,UAAU,EAAE,KAAKlD,WAAjH;AAA8H6C,MAAAA,KAAK,EAAE,KAAKP,kBAAL,EAArI;AAAgKa,MAAAA,SAAS,EAAE,KAAKvF,KAAL,CAAWwF,UAAtL;AAAkMC,MAAAA,OAAO,EAAE,KAAKzF,KAAL,CAAWyF,OAAtN;AAA+NC,MAAAA,MAAM,EAAE,KAAK1F,KAAL,CAAW0F,MAAlP;AAA0P,sBAAgB,KAAK1F,KAAL,CAAW2F;AAArR,KAA3B,EAA0T,KAAK3F,KAAL,CAAW4F,QAArU,CAAR;AACH,GAFD;;AAGA7H,EAAAA,UAAU,CAACT,SAAX,CAAqB8F,0BAArB,GAAkD,YAAY;AAC1D,QAAIyC,eAAe,GAAGtG,aAAa,CAACE,qBAApC;AACA,QAAIqG,yBAAyB,GAAG,CAAC,gBAAD,CAAhC;;AACA,QAAI,KAAK9F,KAAL,CAAWgE,UAAf,EAA2B;AACvB8B,MAAAA,yBAAyB,CAACf,IAA1B,CAA+B,iBAA/B;AACH,KAFD,MAGK;AACDe,MAAAA,yBAAyB,CAACf,IAA1B,CAA+B,iBAA/B;AACAc,MAAAA,eAAe,GAAGxH,CAAC,CAAC0H,MAAF,CAAS,EAAT,EAAaxG,aAAa,CAACI,oBAA3B,EAAiDkG,eAAjD,CAAlB;AACH;;AACD,WAAQ7H,KAAK,CAACkH,aAAN,CAAoB,KAApB,EAA2B;AAAEE,MAAAA,IAAI,EAAE,MAAR;AAAgBY,MAAAA,SAAS,EAAE,gBAA3B;AAA6Cf,MAAAA,KAAK,EAAEY,eAApD;AAAqE,sBAAgB,KAAK7F,KAAL,CAAW2F;AAAhG,KAA3B,EACJ3H,KAAK,CAACkH,aAAN,CAAoB,KAApB,EAA2B;AAAEC,MAAAA,GAAG,EAAE,KAAKnD,QAAZ;AAAsBoD,MAAAA,IAAI,EAAE,MAA5B;AAAoCY,MAAAA,SAAS,EAAEF,yBAAyB,CAACG,IAA1B,CAA+B,GAA/B,CAA/C;AAAoFlF,MAAAA,QAAQ,EAAE,KAAKT,SAAnG;AAA8G2E,MAAAA,KAAK,EAAE,KAAKP,kBAAL,EAArH;AAAgJa,MAAAA,SAAS,EAAE,KAAKvF,KAAL,CAAWwF,UAAtK;AAAkLC,MAAAA,OAAO,EAAE,KAAKzF,KAAL,CAAWyF,OAAtM;AAA+MC,MAAAA,MAAM,EAAE,KAAK1F,KAAL,CAAW0F,MAAlO;AAA0OL,MAAAA,YAAY,EAAE,KAAKnD,aAA7P;AAA4QoD,MAAAA,UAAU,EAAE,KAAKlD;AAA7R,KAA3B,EAAuU,KAAKpC,KAAL,CAAW4F,QAAlV,CADI,CAAR;AAEH,GAZD;;AAaA7H,EAAAA,UAAU,CAACT,SAAX,CAAqB4I,YAArB,GAAoC,UAAU7E,SAAV,EAAqB8E,OAArB,EAA8B;AAC9D,QAAIlG,KAAK,GAAG,IAAZ;;AACA,QAAIkG,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,MAAAA,OAAO,GAAG,KAAV;AAAkB;;AAC5C,QAAIhF,SAAS,GAAG,KAAKC,aAAL,EAAhB;;AACA,QAAI,CAACD,SAAL,EAAgB;AACZ;AACH;;AACD,SAAKb,SAAL,CAAe8F,MAAf;;AACA,QAAID,OAAJ,EAAa;AACT,UAAIE,OAAO,GAAGlF,SAAS,CAACE,SAAxB;AACA,UAAIiF,QAAQ,GAAGjF,SAAS,GAAGgF,OAA3B;AACA,UAAIE,WAAW,GAAG,EAAlB;AACA,UAAIC,UAAU,GAAG,GAAjB;;AACA,UAAIC,eAAe,GAAG,UAAUC,WAAV,EAAuB;AACzCA,QAAAA,WAAW,IAAIH,WAAf;;AACA,YAAI5H,QAAQ,GAAGsB,KAAK,CAAC0G,UAAN,CAAiBD,WAAjB,EAA8BL,OAA9B,EAAuCC,QAAvC,EAAiDE,UAAjD,CAAf;;AACArF,QAAAA,SAAS,CAACE,SAAV,GAAsB1C,QAAtB;;AACA,YAAI+H,WAAW,GAAGF,UAAlB,EAA8B;AAC1BrI,UAAAA,QAAQ,CAAC0C,OAAT,CAAiB+F,UAAjB,CAA4B,YAAY;AACpCH,YAAAA,eAAe,CAACC,WAAD,CAAf;AACH,WAFD,EAEGH,WAFH;AAGH;AACJ,OATD;;AAUAE,MAAAA,eAAe,CAAC,CAAD,CAAf;AACH,KAhBD,MAiBK;AACDtF,MAAAA,SAAS,CAACE,SAAV,GAAsBA,SAAtB;AACH;AACJ,GA5BD;;AA6BAtD,EAAAA,UAAU,CAACT,SAAX,CAAqBuJ,aAArB,GAAqC,UAAUvF,UAAV,EAAsB6E,OAAtB,EAA+B;AAChE,QAAIlG,KAAK,GAAG,IAAZ;;AACA,QAAIkG,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,MAAAA,OAAO,GAAG,KAAV;AAAkB;;AAC5C,QAAIhF,SAAS,GAAG,KAAKC,aAAL,EAAhB;;AACA,QAAI,CAACD,SAAL,EAAgB;AACZ;AACH;;AACD,SAAKb,SAAL,CAAe8F,MAAf;;AACA,QAAID,OAAJ,EAAa;AACT,UAAIW,OAAO,GAAG3F,SAAS,CAACG,UAAxB;AACA,UAAIyF,QAAQ,GAAGzF,UAAU,GAAGwF,OAA5B;AACA,UAAIE,WAAW,GAAG,EAAlB;AACA,UAAIC,UAAU,GAAG,GAAjB;;AACA,UAAIC,eAAe,GAAG,UAAUR,WAAV,EAAuB;AACzCA,QAAAA,WAAW,IAAIM,WAAf;;AACA,YAAIrI,QAAQ,GAAGsB,KAAK,CAAC0G,UAAN,CAAiBD,WAAjB,EAA8BI,OAA9B,EAAuCC,QAAvC,EAAiDE,UAAjD,CAAf;;AACA9F,QAAAA,SAAS,CAACG,UAAV,GAAuB3C,QAAvB;;AACA,YAAI+H,WAAW,GAAGO,UAAlB,EAA8B;AAC1B9I,UAAAA,QAAQ,CAAC0C,OAAT,CAAiB+F,UAAjB,CAA4B,YAAY;AACpCM,YAAAA,eAAe,CAACR,WAAD,CAAf;AACH,WAFD,EAEGM,WAFH;AAGH;AACJ,OATD;;AAUAE,MAAAA,eAAe,CAAC,CAAD,CAAf;AACH,KAhBD,MAiBK;AACD/F,MAAAA,SAAS,CAACG,UAAV,GAAuBA,UAAvB;AACH;AACJ,GA5BD;;AA6BAvD,EAAAA,UAAU,CAACT,SAAX,CAAqBqJ,UAArB,GAAkC,UAAUQ,WAAV,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsCC,QAAtC,EAAgD;AAC9EH,IAAAA,WAAW,IAAIG,QAAQ,GAAG,CAA1B;;AACA,QAAIH,WAAW,GAAG,CAAlB,EAAqB;AACjB,aAAOE,MAAM,GAAG,CAAT,GAAaF,WAAb,GAA2BA,WAA3B,GAAyCC,KAAhD;AACH;;AACDD,IAAAA,WAAW,IAAI,CAAf;AACA,WAAO,CAACE,MAAD,GAAU,CAAV,IAAeF,WAAW,IAAIA,WAAW,GAAG,CAAlB,CAAX,GAAkC,CAAjD,IAAsDC,KAA7D;AACH,GAPD;;AAQA,SAAOrJ,UAAP;AACH,CAnQ+B,CAmQ9BS,UAAU,CAACqC,OAnQmB,CAAhC;;AAoQAhD,OAAO,CAACE,UAAR,GAAqBA,UAArB;AACAF,OAAO,CAACgD,OAAR,GAAkB9C,UAAlB","sourcesContent":["\"use strict\";\r\n/**\r\n * ScrollView.tsx\r\n *\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT license.\r\n *\r\n * Web-specific implementation of the cross-platform ScrollView abstraction.\r\n */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ScrollView = void 0;\r\nvar React = require(\"react\");\r\nvar ReactDOM = require(\"react-dom\");\r\nvar Timers_1 = require(\"../common/utils/Timers\");\r\nvar CustomScrollbar_1 = require(\"./CustomScrollbar\");\r\nvar _ = require(\"./utils/lodashMini\");\r\nvar ScrollViewConfig_1 = require(\"./ScrollViewConfig\");\r\nvar Styles_1 = require(\"./Styles\");\r\nvar ViewBase_1 = require(\"./ViewBase\");\r\nvar _styles = {\r\n    defaultStyle: {\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n        alignSelf: 'stretch',\r\n        flexGrow: 1,\r\n        flexShrink: 1,\r\n        // This forces some browsers (like Chrome) to create a new render context,\r\n        // which can significantly speed up scrolling.\r\n        transform: 'translateZ(0)',\r\n    },\r\n    verticalStyle: {\r\n        flexDirection: 'column',\r\n        overflowY: 'auto',\r\n        overflowX: 'hidden',\r\n    },\r\n    horizontalStyle: {\r\n        flexDirection: 'row',\r\n        overflowY: 'hidden',\r\n        overflowX: 'auto',\r\n    },\r\n};\r\nvar _initializedCustomStyles = false;\r\nvar _customStyles = {\r\n    defaultStyle: {\r\n        overflow: 'hidden',\r\n        msOverflowStyle: 'auto',\r\n        flexDirection: 'column',\r\n        // This forces some browsers (like Chrome) to create a new render context,\r\n        // which can significantly speed up scrolling.\r\n        transform: 'translateZ(0)',\r\n    },\r\n    verticalStyle: {},\r\n    horizontalStyle: {},\r\n    customScrollContainer: {\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n        boxSizing: 'border-box',\r\n        alignSelf: 'stretch',\r\n    },\r\n    customScrollVertical: {\r\n        // Set flex only for vertical scroll view.\r\n        // Don't set flex for horizontal scroll view, otherwise it disappears.\r\n        display: 'flex',\r\n        flex: '1 1 0px',\r\n    },\r\n};\r\n// Default to once per frame.\r\nvar _defaultScrollThrottleValue = 1000 / 60;\r\nvar ScrollView = /** @class */ (function (_super) {\r\n    __extends(ScrollView, _super);\r\n    function ScrollView(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this._mountedComponent = null;\r\n        _this._mounted = false;\r\n        _this._customScrollbarEnabled = true;\r\n        _this._dragging = false;\r\n        // Throttled scroll handler\r\n        _this._onScroll = _.throttle(function (e) {\r\n            if (!_this._mounted) {\r\n                return;\r\n            }\r\n            if (_this._customScrollbarEnabled && _this._customScrollbar) {\r\n                _this._customScrollbar.update();\r\n            }\r\n            // Check if this should be also fire an onLayout event\r\n            // The browser sends a scroll event when resizing\r\n            var onLayoutPromise = _this._checkAndReportLayout();\r\n            // Recent versions of Chrome have started to defer all timers until\r\n            // after scrolling has completed. Because of this, our deferred layout\r\n            // reporting sometimes doesn't get handled for up to seconds at a time.\r\n            // Force the list of deferred changes to be reported now.\r\n            ViewBase_1.default._reportDeferredLayoutChanges();\r\n            if (_this.props.onScroll || _this.props.scrollXAnimatedValue || _this.props.scrollYAnimatedValue) {\r\n                onLayoutPromise.then(function () {\r\n                    var container = _this._getContainer();\r\n                    if (!container) {\r\n                        return;\r\n                    }\r\n                    if (_this.props.onScroll) {\r\n                        _this.props.onScroll(container.scrollTop, container.scrollLeft);\r\n                    }\r\n                    if (_this.props.scrollXAnimatedValue) {\r\n                        _this.props.scrollXAnimatedValue.setValue(container.scrollLeft);\r\n                    }\r\n                    if (_this.props.scrollYAnimatedValue) {\r\n                        _this.props.scrollYAnimatedValue.setValue(container.scrollTop);\r\n                    }\r\n                }).catch(function (e) {\r\n                    console.warn('ScrollView onLayout exception: ' + JSON.stringify(e));\r\n                });\r\n            }\r\n        }, (_this.props.scrollEventThrottle || _defaultScrollThrottleValue), { leading: true, trailing: true });\r\n        _this._onMount = function (component) {\r\n            _this._mountedComponent = component;\r\n        };\r\n        _this._onTouchStart = function () {\r\n            if (!_this._dragging) {\r\n                _this._dragging = true;\r\n                if (_this.props.onScrollBeginDrag) {\r\n                    _this.props.onScrollBeginDrag();\r\n                }\r\n            }\r\n        };\r\n        _this._onTouchEnd = function () {\r\n            _this._dragging = false;\r\n            if (_this.props.onScrollEndDrag) {\r\n                _this.props.onScrollEndDrag();\r\n            }\r\n        };\r\n        // Set final styles upon initialization of the first ScrollView. This was previously done in the head\r\n        // of this file, but it broke the pattern of not doing external work (such as accessing the document\r\n        // object) on Types initialization.\r\n        if (!_initializedCustomStyles) {\r\n            _initializedCustomStyles = true;\r\n            var nativeScrollbarWidth = CustomScrollbar_1.default.getNativeScrollbarWidth();\r\n            _customStyles.verticalStyle = {\r\n                overflowY: 'scroll',\r\n                paddingRight: 30 - nativeScrollbarWidth,\r\n                marginRight: -30,\r\n                // Fixes a bug for Chrome beta where the parent flexbox (customScrollContainer) doesn't\r\n                // recognize that its child got populated with items. Smallest default width gives an\r\n                // indication that content will exist here.\r\n                minHeight: 0,\r\n            };\r\n            _customStyles.horizontalStyle = {\r\n                // The display needs to be set to flex, otherwise the scrollview incorrectly shows up vertically.\r\n                display: 'flex',\r\n                overflowX: 'scroll',\r\n                paddingBottom: 30 - nativeScrollbarWidth,\r\n                marginBottom: -30,\r\n                // Fixes a bug for Chrome beta where the parent flexbox (customScrollContainer) doesn't\r\n                // recognize that its child got populated with items. Smallest default width gives an\r\n                // indication that content will exist here.\r\n                minWidth: 0,\r\n            };\r\n        }\r\n        return _this;\r\n    }\r\n    ScrollView.prototype.componentDidUpdate = function () {\r\n        var _this = this;\r\n        _super.prototype.componentDidUpdate.call(this);\r\n        if (!this.props.onContentSizeChange) {\r\n            return;\r\n        }\r\n        _.defer(function () {\r\n            if (_this.props.onContentSizeChange) {\r\n                var container = _this._getContainer();\r\n                if (!container) {\r\n                    return;\r\n                }\r\n                _this.props.onContentSizeChange(container.scrollWidth, container.scrollHeight);\r\n            }\r\n        });\r\n    };\r\n    ScrollView.prototype.render = function () {\r\n        return this._customScrollbarEnabled ? this._renderWithCustomScrollbar() : this._renderNormal();\r\n    };\r\n    ScrollView.prototype.UNSAFE_componentWillMount = function () {\r\n        this._onPropsChange(this.props);\r\n    };\r\n    ScrollView.prototype.componentDidMount = function () {\r\n        _super.prototype.componentDidMount.call(this);\r\n        this._mounted = true;\r\n        this._createCustomScrollbarsIfNeeded(this.props);\r\n    };\r\n    ScrollView.prototype.UNSAFE_componentWillReceiveProps = function (newProps) {\r\n        _super.prototype.UNSAFE_componentWillReceiveProps.call(this, newProps);\r\n        this._onPropsChange(newProps);\r\n    };\r\n    ScrollView.prototype.componentWillUnmount = function () {\r\n        _super.prototype.componentWillUnmount.call(this);\r\n        this._mounted = false;\r\n        if (this._customScrollbar) {\r\n            this._customScrollbar.dispose();\r\n            this._customScrollbar = undefined;\r\n        }\r\n    };\r\n    ScrollView.prototype._getContainer = function () {\r\n        return this._mountedComponent;\r\n    };\r\n    ScrollView.prototype._onPropsChange = function (props) {\r\n        this._customScrollbarEnabled = ScrollViewConfig_1.default.useCustomScrollbars();\r\n        // If we're turning on custom scrollbars or toggling vertical and/or horizontal, we need to re-create\r\n        // the scrollbar.\r\n        this._createCustomScrollbarsIfNeeded(props);\r\n    };\r\n    ScrollView.prototype._createCustomScrollbarsIfNeeded = function (props) {\r\n        if (this._mounted && this._customScrollbarEnabled) {\r\n            if (this._customScrollbar) {\r\n                if (this.props.horizontal === props.horizontal &&\r\n                    this.props.showsHorizontalScrollIndicator === props.showsHorizontalScrollIndicator &&\r\n                    this.props.showsVerticalScrollIndicator === props.showsVerticalScrollIndicator) {\r\n                    // No need to re-create the scrollbar.\r\n                    return;\r\n                }\r\n                this._customScrollbar.dispose();\r\n                this._customScrollbar = undefined;\r\n            }\r\n            var element = ReactDOM.findDOMNode(this);\r\n            if (element) {\r\n                this._customScrollbar = new CustomScrollbar_1.default(element);\r\n                var horizontalHidden = (props.horizontal && props.showsHorizontalScrollIndicator === false);\r\n                var verticalHidden = (!props.horizontal && props.showsVerticalScrollIndicator === false);\r\n                this._customScrollbar.init({\r\n                    horizontal: props.horizontal && !horizontalHidden,\r\n                    vertical: !props.horizontal && !verticalHidden,\r\n                    hiddenScrollbar: horizontalHidden || verticalHidden,\r\n                });\r\n            }\r\n        }\r\n    };\r\n    ScrollView.prototype._getContainerStyle = function () {\r\n        var _a = this.props.scrollEnabled, scrollEnabled = _a === void 0 ? true : _a;\r\n        var styles = [{ display: 'block' }];\r\n        var sourceStyles = this._customScrollbarEnabled ? _customStyles : _styles;\r\n        styles.push(sourceStyles.defaultStyle);\r\n        if (scrollEnabled && this.props.horizontal) {\r\n            styles.push(sourceStyles.horizontalStyle);\r\n        }\r\n        else if (scrollEnabled) {\r\n            styles.push(sourceStyles.verticalStyle);\r\n        }\r\n        return Styles_1.default.combine([styles, this.props.style]);\r\n    };\r\n    ScrollView.prototype._renderNormal = function () {\r\n        return (React.createElement(\"div\", { ref: this._onMount, role: 'none', onScroll: this._onScroll, onTouchStart: this._onTouchStart, onTouchEnd: this._onTouchEnd, style: this._getContainerStyle(), onKeyDown: this.props.onKeyPress, onFocus: this.props.onFocus, onBlur: this.props.onBlur, \"data-test-id\": this.props.testId }, this.props.children));\r\n    };\r\n    ScrollView.prototype._renderWithCustomScrollbar = function () {\r\n        var containerStyles = _customStyles.customScrollContainer;\r\n        var scrollComponentClassNames = ['scrollViewport'];\r\n        if (this.props.horizontal) {\r\n            scrollComponentClassNames.push('scrollViewportH');\r\n        }\r\n        else {\r\n            scrollComponentClassNames.push('scrollViewportV');\r\n            containerStyles = _.extend({}, _customStyles.customScrollVertical, containerStyles);\r\n        }\r\n        return (React.createElement(\"div\", { role: 'none', className: 'rxCustomScroll', style: containerStyles, \"data-test-id\": this.props.testId },\r\n            React.createElement(\"div\", { ref: this._onMount, role: 'none', className: scrollComponentClassNames.join(' '), onScroll: this._onScroll, style: this._getContainerStyle(), onKeyDown: this.props.onKeyPress, onFocus: this.props.onFocus, onBlur: this.props.onBlur, onTouchStart: this._onTouchStart, onTouchEnd: this._onTouchEnd }, this.props.children)));\r\n    };\r\n    ScrollView.prototype.setScrollTop = function (scrollTop, animate) {\r\n        var _this = this;\r\n        if (animate === void 0) { animate = false; }\r\n        var container = this._getContainer();\r\n        if (!container) {\r\n            return;\r\n        }\r\n        this._onScroll.cancel();\r\n        if (animate) {\r\n            var start_1 = container.scrollTop;\r\n            var change_1 = scrollTop - start_1;\r\n            var increment_1 = 20;\r\n            var duration_1 = 200;\r\n            var animateScroll_1 = function (elapsedTime) {\r\n                elapsedTime += increment_1;\r\n                var position = _this._easeInOut(elapsedTime, start_1, change_1, duration_1);\r\n                container.scrollTop = position;\r\n                if (elapsedTime < duration_1) {\r\n                    Timers_1.default.setTimeout(function () {\r\n                        animateScroll_1(elapsedTime);\r\n                    }, increment_1);\r\n                }\r\n            };\r\n            animateScroll_1(0);\r\n        }\r\n        else {\r\n            container.scrollTop = scrollTop;\r\n        }\r\n    };\r\n    ScrollView.prototype.setScrollLeft = function (scrollLeft, animate) {\r\n        var _this = this;\r\n        if (animate === void 0) { animate = false; }\r\n        var container = this._getContainer();\r\n        if (!container) {\r\n            return;\r\n        }\r\n        this._onScroll.cancel();\r\n        if (animate) {\r\n            var start_2 = container.scrollLeft;\r\n            var change_2 = scrollLeft - start_2;\r\n            var increment_2 = 20;\r\n            var duration_2 = 200;\r\n            var animateScroll_2 = function (elapsedTime) {\r\n                elapsedTime += increment_2;\r\n                var position = _this._easeInOut(elapsedTime, start_2, change_2, duration_2);\r\n                container.scrollLeft = position;\r\n                if (elapsedTime < duration_2) {\r\n                    Timers_1.default.setTimeout(function () {\r\n                        animateScroll_2(elapsedTime);\r\n                    }, increment_2);\r\n                }\r\n            };\r\n            animateScroll_2(0);\r\n        }\r\n        else {\r\n            container.scrollLeft = scrollLeft;\r\n        }\r\n    };\r\n    ScrollView.prototype._easeInOut = function (currentTime, start, change, duration) {\r\n        currentTime /= duration / 2;\r\n        if (currentTime < 1) {\r\n            return change / 2 * currentTime * currentTime + start;\r\n        }\r\n        currentTime -= 1;\r\n        return -change / 2 * (currentTime * (currentTime - 2) - 1) + start;\r\n    };\r\n    return ScrollView;\r\n}(ViewBase_1.default));\r\nexports.ScrollView = ScrollView;\r\nexports.default = ScrollView;\r\n"]},"metadata":{},"sourceType":"script"}