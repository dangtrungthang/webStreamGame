{"ast":null,"code":"\"use strict\";\n/**\r\n * Styles.ts\r\n *\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT license.\r\n *\r\n * Web-specific implementation of style functions.\r\n */\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.memoize = exports.Styles = void 0;\n\nvar AppConfig_1 = require(\"../common/AppConfig\");\n\nvar RX = require(\"../common/Interfaces\");\n\nvar StyleLeakDetector_1 = require(\"../common/StyleLeakDetector\");\n\nvar _ = require(\"./utils/lodashMini\");\n\nvar Styles =\n/** @class */\nfunction (_super) {\n  __extends(Styles, _super);\n\n  function Styles() {\n    var _this = _super !== null && _super.apply(this, arguments) || this; // Use memoize to cache the result after the first call.\n\n\n    _this._createDummyElement = _.memoize(function () {\n      return document.createElement('testCss');\n    });\n    _this._getCssPropertyAliasesJsStyle = _.memoize(function () {\n      var props = ['flex', 'flexDirection', 'alignItems', 'justifyContent', 'alignSelf', 'alignContent', 'transform', 'transition', 'animationDuration', 'animationTimingFunction', 'animationDirection', 'animationDelay', 'animationIterationCount', 'animationName', 'hyphens', 'filter', 'appRegion'];\n      var aliases = {};\n      props.forEach(function (prop) {\n        var alias = _this._getCssPropertyAlias(prop);\n\n        if (alias && prop !== alias) {\n          aliases[prop] = alias;\n        }\n      });\n      return aliases;\n    });\n    _this._cssPropertyAliasesCssStyle = memoize(function () {\n      var jsStyleAliases = _this._getCssPropertyAliasesJsStyle();\n\n      var aliases = {};\n\n      _.each(_.keys(jsStyleAliases), function (prop) {\n        aliases[prop] = _this.convertJsToCssStyle(jsStyleAliases[prop]);\n      });\n\n      return aliases;\n    });\n    return _this;\n  } // Combines a set of styles - for web we need to flatten to a single object\n\n\n  Styles.prototype.combine = function (ruleSet1, ruleSet2) {\n    if (!ruleSet1 && !ruleSet2) {\n      return undefined;\n    }\n\n    var ruleSet = ruleSet1 ? ruleSet2 ? [ruleSet1, ruleSet2] : ruleSet1 : ruleSet2;\n\n    if (ruleSet instanceof Array) {\n      var combinedStyles = {};\n\n      for (var i = 0; i < ruleSet.length; i++) {\n        var subRuleSet = this.combine(ruleSet[i]);\n        combinedStyles = _.extend(combinedStyles, subRuleSet);\n      } // Use the React Native model for combining styles. Specific attributes\n      // always override the general.\n      // https://github.com/necolas/react-native-web/blob/0.10.0/docs/guides/style.md#how-styles-are-resolved\n\n\n      if ((combinedStyles.marginLeft !== undefined || combinedStyles.marginRight !== undefined || combinedStyles.marginTop !== undefined || combinedStyles.marginBottom !== undefined) && combinedStyles.margin !== undefined) {\n        if (combinedStyles.marginLeft === undefined) {\n          combinedStyles.marginLeft = combinedStyles.margin;\n        }\n\n        if (combinedStyles.marginRight === undefined) {\n          combinedStyles.marginRight = combinedStyles.margin;\n        }\n\n        if (combinedStyles.marginTop === undefined) {\n          combinedStyles.marginTop = combinedStyles.margin;\n        }\n\n        if (combinedStyles.marginBottom === undefined) {\n          combinedStyles.marginBottom = combinedStyles.margin;\n        }\n\n        delete combinedStyles.margin;\n      }\n\n      if ((combinedStyles.paddingLeft !== undefined || combinedStyles.paddingRight !== undefined || combinedStyles.paddingTop !== undefined || combinedStyles.paddingBottom !== undefined) && combinedStyles.padding !== undefined) {\n        if (combinedStyles.paddingLeft === undefined) {\n          combinedStyles.paddingLeft = combinedStyles.padding;\n        }\n\n        if (combinedStyles.paddingRight === undefined) {\n          combinedStyles.paddingRight = combinedStyles.padding;\n        }\n\n        if (combinedStyles.paddingTop === undefined) {\n          combinedStyles.paddingTop = combinedStyles.padding;\n        }\n\n        if (combinedStyles.paddingBottom === undefined) {\n          combinedStyles.paddingBottom = combinedStyles.padding;\n        }\n\n        delete combinedStyles.padding;\n      }\n\n      if (combinedStyles.borderWidth || combinedStyles.borderTopWidth || combinedStyles.borderRightWidth || combinedStyles.borderBottomWidth || combinedStyles.borderLeftWidth) {\n        // If the caller specified a non-zero border width\n        // but no border color or style, set the defaults to\n        // match those of React Native platforms.\n        if (combinedStyles.borderColor === undefined) {\n          combinedStyles.borderColor = 'black';\n        }\n\n        if (combinedStyles.borderStyle === undefined) {\n          combinedStyles.borderStyle = 'solid';\n        }\n      }\n\n      return combinedStyles;\n    }\n\n    return ruleSet;\n  }; // Creates opaque styles that can be used for View\n\n\n  Styles.prototype.createViewStyle = function (ruleSet, cacheStyle) {\n    if (cacheStyle === void 0) {\n      cacheStyle = true;\n    }\n\n    return this._adaptStyles(ruleSet, cacheStyle);\n  }; // Creates opaque styles that can be used for View\n\n\n  Styles.prototype.createAnimatedViewStyle = function (ruleSet) {\n    return this._adaptStyles(ruleSet, false);\n  }; // Creates opaque styles that can be used for ScrollView\n\n\n  Styles.prototype.createScrollViewStyle = function (ruleSet, cacheStyle) {\n    if (cacheStyle === void 0) {\n      cacheStyle = true;\n    }\n\n    return this._adaptStyles(ruleSet, cacheStyle);\n  }; // Creates opaque styles that can be used for Button\n\n\n  Styles.prototype.createButtonStyle = function (ruleSet, cacheStyle) {\n    if (cacheStyle === void 0) {\n      cacheStyle = true;\n    }\n\n    return this._adaptStyles(ruleSet, cacheStyle);\n  }; // Creates opaque styles that can be used for Text\n\n\n  Styles.prototype.createTextStyle = function (ruleSet, cacheStyle) {\n    if (cacheStyle === void 0) {\n      cacheStyle = true;\n    }\n\n    return this._adaptStyles(ruleSet, cacheStyle, true);\n  }; // Creates opaque styles that can be used for Text\n\n\n  Styles.prototype.createAnimatedTextStyle = function (ruleSet) {\n    return this._adaptStyles(ruleSet, false);\n  }; // Creates opaque styles that can be used for TextInput\n\n\n  Styles.prototype.createTextInputStyle = function (ruleSet, cacheStyle) {\n    if (cacheStyle === void 0) {\n      cacheStyle = true;\n    }\n\n    return this._adaptStyles(ruleSet, cacheStyle, true);\n  }; // Creates opaque styles that can be used for TextInput\n\n\n  Styles.prototype.createAnimatedTextInputStyle = function (ruleSet) {\n    return this._adaptStyles(ruleSet, false);\n  }; // Creates opaque styles that can be used for Link\n\n\n  Styles.prototype.createLinkStyle = function (ruleSet, cacheStyle) {\n    if (cacheStyle === void 0) {\n      cacheStyle = true;\n    }\n\n    return this._adaptStyles(ruleSet, cacheStyle);\n  }; // Creates opaque styles that can be used for Image\n\n\n  Styles.prototype.createImageStyle = function (ruleSet, cacheStyle) {\n    if (cacheStyle === void 0) {\n      cacheStyle = true;\n    }\n\n    return this._adaptStyles(ruleSet, cacheStyle);\n  }; // Creates opaque styles that can be used for Image\n\n\n  Styles.prototype.createAnimatedImageStyle = function (ruleSet) {\n    return this._adaptStyles(ruleSet, false);\n  }; // Creates opaque styles that can be used for Picker\n\n\n  Styles.prototype.createPickerStyle = function (ruleSet, cacheStyle) {\n    if (cacheStyle === void 0) {\n      cacheStyle = true;\n    }\n\n    return this._adaptStyles(ruleSet, cacheStyle);\n  }; // Returns the name of a CSS property or its alias. Returns undefined if the property is not supported.\n\n\n  Styles.prototype._getCssPropertyAlias = function (name) {\n    // If we're inside unit tests, document may not be defined yet. We don't need prefixes for tests\n    if (typeof document === 'undefined') {\n      return undefined;\n    }\n\n    var upperName = name.charAt(0).toUpperCase() + name.slice(1);\n    var propsToTest = [name, upperName];\n    propsToTest = propsToTest.concat(['Webkit', 'webkit', 'Moz', 'O', 'ms'].map(function (prefix) {\n      return prefix + upperName;\n    }));\n\n    var testElement = this._createDummyElement();\n\n    var styleObj = testElement.style;\n\n    for (var i = 0; i < propsToTest.length; i++) {\n      var prop = propsToTest[i];\n\n      if (styleObj[prop] !== undefined) {\n        return prop;\n      }\n    }\n\n    return undefined;\n  }; // Converts a property from JavaScript style (camel-case) to CSS style (lowercase with hyphens).\n\n\n  Styles.prototype.convertJsToCssStyle = function (prop) {\n    var cssString = '';\n\n    if (prop) {\n      for (var i = 0; i < prop.length; i++) {\n        var lowerChar = prop[i].toLowerCase();\n\n        if (lowerChar === prop[i]) {\n          cssString += lowerChar;\n        } else {\n          cssString += '-' + lowerChar;\n        }\n      }\n    }\n\n    return cssString;\n  };\n\n  Styles.prototype.getCssPropertyAliasesCssStyle = function () {\n    return this._cssPropertyAliasesCssStyle();\n  };\n\n  Styles.prototype.getParentComponentName = function (component) {\n    var parentConstructor;\n    var internalInstance = component._reactInternalInstance;\n\n    if (internalInstance && internalInstance._currentElement && internalInstance._currentElement._owner && internalInstance._currentElement._owner._instance) {\n      parentConstructor = internalInstance._currentElement._owner._instance.constructor;\n    }\n\n    if (!parentConstructor) {\n      return '';\n    }\n\n    return parentConstructor.name ? parentConstructor.name : parentConstructor;\n  };\n\n  Styles.prototype._adaptStyles = function (def, validate, isTextStyle) {\n    if (isTextStyle === void 0) {\n      isTextStyle = false;\n    }\n\n    if (validate) {\n      StyleLeakDetector_1.default.detectLeaks(def);\n    } // Expand composite types.\n\n\n    if (def.font) {\n      if (def.font.fontFamily !== undefined) {\n        def.fontFamily = def.font.fontFamily;\n      }\n\n      if (def.font.fontWeight !== undefined) {\n        def.fontWeight = def.font.fontWeight;\n      }\n\n      if (def.font.fontStyle !== undefined) {\n        def.fontStyle = def.font.fontStyle;\n      }\n\n      delete def.font;\n    }\n\n    if (def.flex !== undefined) {\n      // In development mode, see if we're going to overwrite explicit flexGrow\n      // or flexShrink attributes. It's a programming error to specify these in\n      // combination with flex.\n      if (AppConfig_1.default.isDevelopmentMode()) {\n        if (def.flexGrow !== undefined || def.flexShrink !== undefined) {\n          console.error('Conflicting rules for flex specified.');\n        }\n      }\n\n      var flexValue = def.flex;\n      delete def.flex;\n\n      if (flexValue > 0) {\n        // p 1 auto\n        def.flexGrow = flexValue;\n        def.flexShrink = 1;\n      } else if (flexValue < 0) {\n        // 0 -n auto\n        def.flexGrow = 0;\n        def.flexShrink = -flexValue;\n      } else {\n        // 0 0 auto\n        def.flexGrow = 0;\n        def.flexShrink = 0;\n      }\n    }\n\n    if (def.transform) {\n      var transformStrings_1 = [];\n      var animatedTransforms_1 = {};\n      var staticTransforms_1 = {};\n\n      _.each(def.transform, function (t) {\n        _.each(_.keys(t), function (key) {\n          // Animated transforms use Animated.Value objects rather\n          // than strings. We need to store these separately.\n          if (typeof t[key] === 'object') {\n            animatedTransforms_1[key] = t[key];\n          } else {\n            var value = t[key].toString();\n\n            if (key.indexOf('translate') === 0) {\n              value += 'px';\n            }\n\n            transformStrings_1.push(key + '(' + value + ')');\n            staticTransforms_1[key] = value;\n          }\n        });\n      });\n\n      delete def.transform;\n\n      if (transformStrings_1.length > 0) {\n        def.transform = transformStrings_1.join(' ');\n      }\n\n      if (_.keys(animatedTransforms_1).length > 0) {\n        def.animatedTransforms = animatedTransforms_1;\n        def.staticTransforms = staticTransforms_1;\n      }\n    }\n\n    if (def.shadowOffset !== undefined || def.shadowRadius !== undefined || def.shadowColor !== undefined) {\n      var width = 0;\n      var height = 0;\n      var radius = 0;\n      var color = 'black';\n\n      if (def.shadowOffset !== undefined) {\n        width = def.shadowOffset.width;\n        height = def.shadowOffset.height;\n        delete def.shadowOffset;\n      }\n\n      if (def.shadowRadius !== undefined) {\n        radius = def.shadowRadius;\n        delete def.shadowRadius;\n      }\n\n      if (def.shadowColor !== undefined) {\n        color = def.shadowColor;\n        delete def.shadowColor;\n      }\n\n      if (isTextStyle) {\n        def.textShadow = width + 'px ' + height + 'px ' + radius + 'px ' + color;\n      } else {\n        def.boxShadow = width + 'px ' + height + 'px ' + radius + 'px 0px ' + color;\n      }\n    } // CSS (and React JS) support lineHeight defined as either a multiple of the font\n    // size or a pixel count. The RX.Types interface always uses a pixel count. We need to\n    // convert to the string notation to make CSS happy.\n\n\n    if (def.lineHeight !== undefined) {\n      def.lineHeight = def.lineHeight + 'px';\n    } // Add default border width if border style or some subset of border widths\n    // were provided. Otherwise the browser will default to a two-pixel border.\n\n\n    if (def.borderStyle || def.borderTopWidth || def.borderRightWidth || def.borderBottomWidth || def.borderLeftWidth) {\n      if (def.borderWidth === undefined) {\n        if (def.borderTopWidth === undefined) {\n          def.borderTopWidth = 0;\n        }\n\n        if (def.borderRightWidth === undefined) {\n          def.borderRightWidth = 0;\n        }\n\n        if (def.borderBottomWidth === undefined) {\n          def.borderBottomWidth = 0;\n        }\n\n        if (def.borderLeftWidth === undefined) {\n          def.borderLeftWidth = 0;\n        }\n      }\n    } // CSS doesn't support vertical/horizontal margins or padding.\n\n\n    if (def.marginVertical !== undefined) {\n      if (def.marginTop === undefined) {\n        def.marginTop = def.marginVertical;\n      }\n\n      if (def.marginBottom === undefined) {\n        def.marginBottom = def.marginVertical;\n      }\n\n      delete def.marginVertical;\n    }\n\n    if (def.marginHorizontal !== undefined) {\n      if (def.marginLeft === undefined) {\n        def.marginLeft = def.marginHorizontal;\n      }\n\n      if (def.marginRight === undefined) {\n        def.marginRight = def.marginHorizontal;\n      }\n\n      delete def.marginHorizontal;\n    }\n\n    if (def.paddingVertical !== undefined) {\n      if (def.paddingTop === undefined) {\n        def.paddingTop = def.paddingVertical;\n      }\n\n      if (def.paddingBottom === undefined) {\n        def.paddingBottom = def.paddingVertical;\n      }\n\n      delete def.paddingVertical;\n    }\n\n    if (def.paddingHorizontal !== undefined) {\n      if (def.paddingLeft === undefined) {\n        def.paddingLeft = def.paddingHorizontal;\n      }\n\n      if (def.paddingRight === undefined) {\n        def.paddingRight = def.paddingHorizontal;\n      }\n\n      delete def.paddingHorizontal;\n    } // CSS doesn't support 'textDecorationLine'\n\n\n    if (def.textDecorationLine !== undefined) {\n      def.textDecoration = def.textDecorationLine;\n      delete def.textDecorationLine;\n    } // CSS doesn't support 'textDecorationStyle'\n\n\n    if (def.textDecorationStyle !== undefined) {\n      if (def.textDecoration !== undefined) {\n        def.textDecoration += ' ' + def.textDecorationStyle;\n      } else {\n        def.textDecoration = def.textDecorationStyle;\n      }\n\n      delete def.textDecorationStyle;\n    } // CSS doesn't support 'textDecorationColor'\n\n\n    if (def.textDecorationColor !== undefined) {\n      if (def.textDecoration !== undefined) {\n        def.textDecoration += ' ' + def.textDecorationColor;\n      } else {\n        def.textDecoration = def.textDecorationColor;\n      }\n\n      delete def.textDecorationColor;\n    } // Add common aliases if necessary.\n\n\n    var jsAliases = this._getCssPropertyAliasesJsStyle();\n\n    for (var prop in jsAliases) {\n      if (def[prop] !== undefined && jsAliases[prop]) {\n        def[jsAliases[prop]] = def[prop];\n      }\n    } // Add IE-specific word wrap property.\n\n\n    if (def.wordBreak === 'break-word') {\n      def.wordWrap = 'break-word';\n    }\n\n    return AppConfig_1.default.isDevelopmentMode() ? Object.freeze(def) : def;\n  };\n\n  return Styles;\n}(RX.Styles);\n\nexports.Styles = Styles;\n\nfunction memoize(func, resolver) {\n  return _.memoize(func, resolver);\n}\n\nexports.memoize = memoize;\nexports.default = new Styles();","map":{"version":3,"sources":["/Users/dangthang/Desktop/webStreamGame/node_modules/react-ult/dist/web/Styles.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","defineProperty","exports","value","memoize","Styles","AppConfig_1","require","RX","StyleLeakDetector_1","_","_super","_this","apply","arguments","_createDummyElement","document","createElement","_getCssPropertyAliasesJsStyle","props","aliases","forEach","prop","alias","_getCssPropertyAlias","_cssPropertyAliasesCssStyle","jsStyleAliases","each","keys","convertJsToCssStyle","combine","ruleSet1","ruleSet2","undefined","ruleSet","combinedStyles","i","length","subRuleSet","extend","marginLeft","marginRight","marginTop","marginBottom","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderColor","borderStyle","createViewStyle","cacheStyle","_adaptStyles","createAnimatedViewStyle","createScrollViewStyle","createButtonStyle","createTextStyle","createAnimatedTextStyle","createTextInputStyle","createAnimatedTextInputStyle","createLinkStyle","createImageStyle","createAnimatedImageStyle","createPickerStyle","name","upperName","charAt","toUpperCase","slice","propsToTest","concat","map","prefix","testElement","styleObj","style","cssString","lowerChar","toLowerCase","getCssPropertyAliasesCssStyle","getParentComponentName","component","parentConstructor","internalInstance","_reactInternalInstance","_currentElement","_owner","_instance","def","validate","isTextStyle","default","detectLeaks","font","fontFamily","fontWeight","fontStyle","flex","isDevelopmentMode","flexGrow","flexShrink","console","error","flexValue","transform","transformStrings_1","animatedTransforms_1","staticTransforms_1","t","key","toString","indexOf","push","join","animatedTransforms","staticTransforms","shadowOffset","shadowRadius","shadowColor","width","height","radius","color","textShadow","boxShadow","lineHeight","marginVertical","marginHorizontal","paddingVertical","paddingHorizontal","textDecorationLine","textDecoration","textDecorationStyle","textDecorationColor","jsAliases","wordBreak","wordWrap","freeze","func","resolver"],"mappings":"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","sourcesContent":["\"use strict\";\r\n/**\r\n * Styles.ts\r\n *\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT license.\r\n *\r\n * Web-specific implementation of style functions.\r\n */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.memoize = exports.Styles = void 0;\r\nvar AppConfig_1 = require(\"../common/AppConfig\");\r\nvar RX = require(\"../common/Interfaces\");\r\nvar StyleLeakDetector_1 = require(\"../common/StyleLeakDetector\");\r\nvar _ = require(\"./utils/lodashMini\");\r\nvar Styles = /** @class */ (function (_super) {\r\n    __extends(Styles, _super);\r\n    function Styles() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        // Use memoize to cache the result after the first call.\r\n        _this._createDummyElement = _.memoize(function () { return document.createElement('testCss'); });\r\n        _this._getCssPropertyAliasesJsStyle = _.memoize(function () {\r\n            var props = [\r\n                'flex',\r\n                'flexDirection',\r\n                'alignItems',\r\n                'justifyContent',\r\n                'alignSelf',\r\n                'alignContent',\r\n                'transform',\r\n                'transition',\r\n                'animationDuration',\r\n                'animationTimingFunction',\r\n                'animationDirection',\r\n                'animationDelay',\r\n                'animationIterationCount',\r\n                'animationName',\r\n                'hyphens',\r\n                'filter',\r\n                'appRegion',\r\n            ];\r\n            var aliases = {};\r\n            props.forEach(function (prop) {\r\n                var alias = _this._getCssPropertyAlias(prop);\r\n                if (alias && prop !== alias) {\r\n                    aliases[prop] = alias;\r\n                }\r\n            });\r\n            return aliases;\r\n        });\r\n        _this._cssPropertyAliasesCssStyle = memoize(function () {\r\n            var jsStyleAliases = _this._getCssPropertyAliasesJsStyle();\r\n            var aliases = {};\r\n            _.each(_.keys(jsStyleAliases), function (prop) {\r\n                aliases[prop] = _this.convertJsToCssStyle(jsStyleAliases[prop]);\r\n            });\r\n            return aliases;\r\n        });\r\n        return _this;\r\n    }\r\n    // Combines a set of styles - for web we need to flatten to a single object\r\n    Styles.prototype.combine = function (ruleSet1, ruleSet2) {\r\n        if (!ruleSet1 && !ruleSet2) {\r\n            return undefined;\r\n        }\r\n        var ruleSet = ruleSet1 ? (ruleSet2 ? [ruleSet1, ruleSet2] : ruleSet1) : ruleSet2;\r\n        if (ruleSet instanceof Array) {\r\n            var combinedStyles = {};\r\n            for (var i = 0; i < ruleSet.length; i++) {\r\n                var subRuleSet = this.combine(ruleSet[i]);\r\n                combinedStyles = _.extend(combinedStyles, subRuleSet);\r\n            }\r\n            // Use the React Native model for combining styles. Specific attributes\r\n            // always override the general.\r\n            // https://github.com/necolas/react-native-web/blob/0.10.0/docs/guides/style.md#how-styles-are-resolved\r\n            if ((combinedStyles.marginLeft !== undefined || combinedStyles.marginRight !== undefined ||\r\n                combinedStyles.marginTop !== undefined || combinedStyles.marginBottom !== undefined) &&\r\n                combinedStyles.margin !== undefined) {\r\n                if (combinedStyles.marginLeft === undefined) {\r\n                    combinedStyles.marginLeft = combinedStyles.margin;\r\n                }\r\n                if (combinedStyles.marginRight === undefined) {\r\n                    combinedStyles.marginRight = combinedStyles.margin;\r\n                }\r\n                if (combinedStyles.marginTop === undefined) {\r\n                    combinedStyles.marginTop = combinedStyles.margin;\r\n                }\r\n                if (combinedStyles.marginBottom === undefined) {\r\n                    combinedStyles.marginBottom = combinedStyles.margin;\r\n                }\r\n                delete combinedStyles.margin;\r\n            }\r\n            if ((combinedStyles.paddingLeft !== undefined || combinedStyles.paddingRight !== undefined ||\r\n                combinedStyles.paddingTop !== undefined || combinedStyles.paddingBottom !== undefined) &&\r\n                combinedStyles.padding !== undefined) {\r\n                if (combinedStyles.paddingLeft === undefined) {\r\n                    combinedStyles.paddingLeft = combinedStyles.padding;\r\n                }\r\n                if (combinedStyles.paddingRight === undefined) {\r\n                    combinedStyles.paddingRight = combinedStyles.padding;\r\n                }\r\n                if (combinedStyles.paddingTop === undefined) {\r\n                    combinedStyles.paddingTop = combinedStyles.padding;\r\n                }\r\n                if (combinedStyles.paddingBottom === undefined) {\r\n                    combinedStyles.paddingBottom = combinedStyles.padding;\r\n                }\r\n                delete combinedStyles.padding;\r\n            }\r\n            if (combinedStyles.borderWidth ||\r\n                combinedStyles.borderTopWidth || combinedStyles.borderRightWidth ||\r\n                combinedStyles.borderBottomWidth || combinedStyles.borderLeftWidth) {\r\n                // If the caller specified a non-zero border width\r\n                // but no border color or style, set the defaults to\r\n                // match those of React Native platforms.\r\n                if (combinedStyles.borderColor === undefined) {\r\n                    combinedStyles.borderColor = 'black';\r\n                }\r\n                if (combinedStyles.borderStyle === undefined) {\r\n                    combinedStyles.borderStyle = 'solid';\r\n                }\r\n            }\r\n            return combinedStyles;\r\n        }\r\n        return ruleSet;\r\n    };\r\n    // Creates opaque styles that can be used for View\r\n    Styles.prototype.createViewStyle = function (ruleSet, cacheStyle) {\r\n        if (cacheStyle === void 0) { cacheStyle = true; }\r\n        return this._adaptStyles(ruleSet, cacheStyle);\r\n    };\r\n    // Creates opaque styles that can be used for View\r\n    Styles.prototype.createAnimatedViewStyle = function (ruleSet) {\r\n        return this._adaptStyles(ruleSet, false);\r\n    };\r\n    // Creates opaque styles that can be used for ScrollView\r\n    Styles.prototype.createScrollViewStyle = function (ruleSet, cacheStyle) {\r\n        if (cacheStyle === void 0) { cacheStyle = true; }\r\n        return this._adaptStyles(ruleSet, cacheStyle);\r\n    };\r\n    // Creates opaque styles that can be used for Button\r\n    Styles.prototype.createButtonStyle = function (ruleSet, cacheStyle) {\r\n        if (cacheStyle === void 0) { cacheStyle = true; }\r\n        return this._adaptStyles(ruleSet, cacheStyle);\r\n    };\r\n    // Creates opaque styles that can be used for Text\r\n    Styles.prototype.createTextStyle = function (ruleSet, cacheStyle) {\r\n        if (cacheStyle === void 0) { cacheStyle = true; }\r\n        return this._adaptStyles(ruleSet, cacheStyle, true);\r\n    };\r\n    // Creates opaque styles that can be used for Text\r\n    Styles.prototype.createAnimatedTextStyle = function (ruleSet) {\r\n        return this._adaptStyles(ruleSet, false);\r\n    };\r\n    // Creates opaque styles that can be used for TextInput\r\n    Styles.prototype.createTextInputStyle = function (ruleSet, cacheStyle) {\r\n        if (cacheStyle === void 0) { cacheStyle = true; }\r\n        return this._adaptStyles(ruleSet, cacheStyle, true);\r\n    };\r\n    // Creates opaque styles that can be used for TextInput\r\n    Styles.prototype.createAnimatedTextInputStyle = function (ruleSet) {\r\n        return this._adaptStyles(ruleSet, false);\r\n    };\r\n    // Creates opaque styles that can be used for Link\r\n    Styles.prototype.createLinkStyle = function (ruleSet, cacheStyle) {\r\n        if (cacheStyle === void 0) { cacheStyle = true; }\r\n        return this._adaptStyles(ruleSet, cacheStyle);\r\n    };\r\n    // Creates opaque styles that can be used for Image\r\n    Styles.prototype.createImageStyle = function (ruleSet, cacheStyle) {\r\n        if (cacheStyle === void 0) { cacheStyle = true; }\r\n        return this._adaptStyles(ruleSet, cacheStyle);\r\n    };\r\n    // Creates opaque styles that can be used for Image\r\n    Styles.prototype.createAnimatedImageStyle = function (ruleSet) {\r\n        return this._adaptStyles(ruleSet, false);\r\n    };\r\n    // Creates opaque styles that can be used for Picker\r\n    Styles.prototype.createPickerStyle = function (ruleSet, cacheStyle) {\r\n        if (cacheStyle === void 0) { cacheStyle = true; }\r\n        return this._adaptStyles(ruleSet, cacheStyle);\r\n    };\r\n    // Returns the name of a CSS property or its alias. Returns undefined if the property is not supported.\r\n    Styles.prototype._getCssPropertyAlias = function (name) {\r\n        // If we're inside unit tests, document may not be defined yet. We don't need prefixes for tests\r\n        if (typeof document === 'undefined') {\r\n            return undefined;\r\n        }\r\n        var upperName = name.charAt(0).toUpperCase() + name.slice(1);\r\n        var propsToTest = [name, upperName];\r\n        propsToTest = propsToTest.concat(['Webkit', 'webkit', 'Moz', 'O', 'ms'].map(function (prefix) { return prefix + upperName; }));\r\n        var testElement = this._createDummyElement();\r\n        var styleObj = testElement.style;\r\n        for (var i = 0; i < propsToTest.length; i++) {\r\n            var prop = propsToTest[i];\r\n            if (styleObj[prop] !== undefined) {\r\n                return prop;\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    // Converts a property from JavaScript style (camel-case) to CSS style (lowercase with hyphens).\r\n    Styles.prototype.convertJsToCssStyle = function (prop) {\r\n        var cssString = '';\r\n        if (prop) {\r\n            for (var i = 0; i < prop.length; i++) {\r\n                var lowerChar = prop[i].toLowerCase();\r\n                if (lowerChar === prop[i]) {\r\n                    cssString += lowerChar;\r\n                }\r\n                else {\r\n                    cssString += '-' + lowerChar;\r\n                }\r\n            }\r\n        }\r\n        return cssString;\r\n    };\r\n    Styles.prototype.getCssPropertyAliasesCssStyle = function () {\r\n        return this._cssPropertyAliasesCssStyle();\r\n    };\r\n    Styles.prototype.getParentComponentName = function (component) {\r\n        var parentConstructor;\r\n        var internalInstance = component._reactInternalInstance;\r\n        if (internalInstance && internalInstance._currentElement &&\r\n            internalInstance._currentElement._owner && internalInstance._currentElement._owner._instance) {\r\n            parentConstructor = internalInstance._currentElement._owner._instance.constructor;\r\n        }\r\n        if (!parentConstructor) {\r\n            return '';\r\n        }\r\n        return parentConstructor.name ? parentConstructor.name : parentConstructor;\r\n    };\r\n    Styles.prototype._adaptStyles = function (def, validate, isTextStyle) {\r\n        if (isTextStyle === void 0) { isTextStyle = false; }\r\n        if (validate) {\r\n            StyleLeakDetector_1.default.detectLeaks(def);\r\n        }\r\n        // Expand composite types.\r\n        if (def.font) {\r\n            if (def.font.fontFamily !== undefined) {\r\n                def.fontFamily = def.font.fontFamily;\r\n            }\r\n            if (def.font.fontWeight !== undefined) {\r\n                def.fontWeight = def.font.fontWeight;\r\n            }\r\n            if (def.font.fontStyle !== undefined) {\r\n                def.fontStyle = def.font.fontStyle;\r\n            }\r\n            delete def.font;\r\n        }\r\n        if (def.flex !== undefined) {\r\n            // In development mode, see if we're going to overwrite explicit flexGrow\r\n            // or flexShrink attributes. It's a programming error to specify these in\r\n            // combination with flex.\r\n            if (AppConfig_1.default.isDevelopmentMode()) {\r\n                if (def.flexGrow !== undefined || def.flexShrink !== undefined) {\r\n                    console.error('Conflicting rules for flex specified.');\r\n                }\r\n            }\r\n            var flexValue = def.flex;\r\n            delete def.flex;\r\n            if (flexValue > 0) {\r\n                // p 1 auto\r\n                def.flexGrow = flexValue;\r\n                def.flexShrink = 1;\r\n            }\r\n            else if (flexValue < 0) {\r\n                // 0 -n auto\r\n                def.flexGrow = 0;\r\n                def.flexShrink = -flexValue;\r\n            }\r\n            else {\r\n                // 0 0 auto\r\n                def.flexGrow = 0;\r\n                def.flexShrink = 0;\r\n            }\r\n        }\r\n        if (def.transform) {\r\n            var transformStrings_1 = [];\r\n            var animatedTransforms_1 = {};\r\n            var staticTransforms_1 = {};\r\n            _.each(def.transform, function (t) {\r\n                _.each(_.keys(t), function (key) {\r\n                    // Animated transforms use Animated.Value objects rather\r\n                    // than strings. We need to store these separately.\r\n                    if (typeof t[key] === 'object') {\r\n                        animatedTransforms_1[key] = t[key];\r\n                    }\r\n                    else {\r\n                        var value = t[key].toString();\r\n                        if (key.indexOf('translate') === 0) {\r\n                            value += 'px';\r\n                        }\r\n                        transformStrings_1.push(key + '(' + value + ')');\r\n                        staticTransforms_1[key] = value;\r\n                    }\r\n                });\r\n            });\r\n            delete def.transform;\r\n            if (transformStrings_1.length > 0) {\r\n                def.transform = transformStrings_1.join(' ');\r\n            }\r\n            if (_.keys(animatedTransforms_1).length > 0) {\r\n                def.animatedTransforms = animatedTransforms_1;\r\n                def.staticTransforms = staticTransforms_1;\r\n            }\r\n        }\r\n        if (def.shadowOffset !== undefined || def.shadowRadius !== undefined || def.shadowColor !== undefined) {\r\n            var width = 0;\r\n            var height = 0;\r\n            var radius = 0;\r\n            var color = 'black';\r\n            if (def.shadowOffset !== undefined) {\r\n                width = def.shadowOffset.width;\r\n                height = def.shadowOffset.height;\r\n                delete def.shadowOffset;\r\n            }\r\n            if (def.shadowRadius !== undefined) {\r\n                radius = def.shadowRadius;\r\n                delete def.shadowRadius;\r\n            }\r\n            if (def.shadowColor !== undefined) {\r\n                color = def.shadowColor;\r\n                delete def.shadowColor;\r\n            }\r\n            if (isTextStyle) {\r\n                def.textShadow = width + 'px ' + height + 'px ' + radius + 'px ' + color;\r\n            }\r\n            else {\r\n                def.boxShadow = width + 'px ' + height + 'px ' + radius + 'px 0px ' + color;\r\n            }\r\n        }\r\n        // CSS (and React JS) support lineHeight defined as either a multiple of the font\r\n        // size or a pixel count. The RX.Types interface always uses a pixel count. We need to\r\n        // convert to the string notation to make CSS happy.\r\n        if (def.lineHeight !== undefined) {\r\n            def.lineHeight = def.lineHeight + 'px';\r\n        }\r\n        // Add default border width if border style or some subset of border widths\r\n        // were provided. Otherwise the browser will default to a two-pixel border.\r\n        if (def.borderStyle || def.borderTopWidth || def.borderRightWidth || def.borderBottomWidth || def.borderLeftWidth) {\r\n            if (def.borderWidth === undefined) {\r\n                if (def.borderTopWidth === undefined) {\r\n                    def.borderTopWidth = 0;\r\n                }\r\n                if (def.borderRightWidth === undefined) {\r\n                    def.borderRightWidth = 0;\r\n                }\r\n                if (def.borderBottomWidth === undefined) {\r\n                    def.borderBottomWidth = 0;\r\n                }\r\n                if (def.borderLeftWidth === undefined) {\r\n                    def.borderLeftWidth = 0;\r\n                }\r\n            }\r\n        }\r\n        // CSS doesn't support vertical/horizontal margins or padding.\r\n        if (def.marginVertical !== undefined) {\r\n            if (def.marginTop === undefined) {\r\n                def.marginTop = def.marginVertical;\r\n            }\r\n            if (def.marginBottom === undefined) {\r\n                def.marginBottom = def.marginVertical;\r\n            }\r\n            delete def.marginVertical;\r\n        }\r\n        if (def.marginHorizontal !== undefined) {\r\n            if (def.marginLeft === undefined) {\r\n                def.marginLeft = def.marginHorizontal;\r\n            }\r\n            if (def.marginRight === undefined) {\r\n                def.marginRight = def.marginHorizontal;\r\n            }\r\n            delete def.marginHorizontal;\r\n        }\r\n        if (def.paddingVertical !== undefined) {\r\n            if (def.paddingTop === undefined) {\r\n                def.paddingTop = def.paddingVertical;\r\n            }\r\n            if (def.paddingBottom === undefined) {\r\n                def.paddingBottom = def.paddingVertical;\r\n            }\r\n            delete def.paddingVertical;\r\n        }\r\n        if (def.paddingHorizontal !== undefined) {\r\n            if (def.paddingLeft === undefined) {\r\n                def.paddingLeft = def.paddingHorizontal;\r\n            }\r\n            if (def.paddingRight === undefined) {\r\n                def.paddingRight = def.paddingHorizontal;\r\n            }\r\n            delete def.paddingHorizontal;\r\n        }\r\n        // CSS doesn't support 'textDecorationLine'\r\n        if (def.textDecorationLine !== undefined) {\r\n            def.textDecoration = def.textDecorationLine;\r\n            delete def.textDecorationLine;\r\n        }\r\n        // CSS doesn't support 'textDecorationStyle'\r\n        if (def.textDecorationStyle !== undefined) {\r\n            if (def.textDecoration !== undefined) {\r\n                def.textDecoration += ' ' + def.textDecorationStyle;\r\n            }\r\n            else {\r\n                def.textDecoration = def.textDecorationStyle;\r\n            }\r\n            delete def.textDecorationStyle;\r\n        }\r\n        // CSS doesn't support 'textDecorationColor'\r\n        if (def.textDecorationColor !== undefined) {\r\n            if (def.textDecoration !== undefined) {\r\n                def.textDecoration += ' ' + def.textDecorationColor;\r\n            }\r\n            else {\r\n                def.textDecoration = def.textDecorationColor;\r\n            }\r\n            delete def.textDecorationColor;\r\n        }\r\n        // Add common aliases if necessary.\r\n        var jsAliases = this._getCssPropertyAliasesJsStyle();\r\n        for (var prop in jsAliases) {\r\n            if (def[prop] !== undefined && jsAliases[prop]) {\r\n                def[jsAliases[prop]] = def[prop];\r\n            }\r\n        }\r\n        // Add IE-specific word wrap property.\r\n        if (def.wordBreak === 'break-word') {\r\n            def.wordWrap = 'break-word';\r\n        }\r\n        return AppConfig_1.default.isDevelopmentMode() ? Object.freeze(def) : def;\r\n    };\r\n    return Styles;\r\n}(RX.Styles));\r\nexports.Styles = Styles;\r\nfunction memoize(func, resolver) {\r\n    return _.memoize(func, resolver);\r\n}\r\nexports.memoize = memoize;\r\nexports.default = new Styles();\r\n"]},"metadata":{},"sourceType":"script"}