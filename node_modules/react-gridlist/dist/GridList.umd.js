!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("react")):"function"==typeof define&&define.amd?define(["react"],n):e.GridList=n(e.react)}(this,function(e){var n="default"in e?e.default:e;function t(e,n){return e.width===n.width&&e.height===n.height}function r(){return{width:window.innerWidth,height:window.innerHeight}}function u(e){var n=e.getBoundingClientRect();return{width:n.width,height:n.height}}function i(){return{x:window.scrollX,y:window.scrollY}}function o(e){return window.scrollY+e.getBoundingClientRect().top}function l(n){var t=e.useRef(n);return t.current=n,t}function f(e,n){if(null!==n)return""+(e.rowNumber-(null!==n.firstRenderedRowNumber?n.firstRenderedRowNumber-1:0))}return function(c){var d=e.useRef(null),s=function(n){var f=function(){var n=e.useState(function(){return r()}),u=n[0],i=n[1],o=l(u);return e.useEffect(function(){function e(){var e=r();t(o.current,e)||i(e)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[o]),u}(),c=function(){var n=e.useState(i()),t=n[0],r=n[1],u=l(t);return e.useEffect(function(){function e(){var e,n,t=i();((e=u.current).x!==(n=t).x||e.y!==n.y)&&r(t)}return window.addEventListener("scroll",e),window.addEventListener("resize",e),function(){window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[u]),t}(),d=function(n){var t=e.useState(function(){return n.current?o(n.current):null}),r=t[0],u=t[1];return e.useEffect(function(){var e=new ResizeObserver(function(e){u(o(e[0].target))});return n.current&&e.observe(n.current),function(){return e.disconnect()}},[n]),r}(n),s=function(n){var r=e.useState(function(){return n.current?u(n.current):null}),i=r[0],o=r[1],f=l(i);return e.useEffect(function(){var e=new ResizeObserver(function(e){var n=u(e[0].target);null!==f.current&&t(f.current,n)||o(n)});return n.current&&e.observe(n.current),function(){return e.disconnect()}},[n]),i}(n);return e.useMemo(function(){return{windowSize:f,windowScroll:c,elementWindowOffset:d,elementSize:s}},[f,c,d,s])}(d),a=function(n,t){var r=t.items,u=t.getWindowMargin,i=t.getGridGap,o=t.getColumnCount,l=t.getItemData,f=n.elementSize?n.elementSize.width:null,c=e.useMemo(function(){return u?u(n.windowSize.height):n.windowSize.height},[n.windowSize.height,u]),d=e.useMemo(function(){return null===f?null:i?i(f,n.windowSize.height):0},[f,n.windowSize.height,i]),s=e.useMemo(function(){return null===f?null:null===d?null:o(f,d)},[o,f,d]),a=function(e,n,t){return null===e||null===n||null===t?null:Math.round((t-(e-1)*n)/e)}(s,d,f),w=e.useMemo(function(){if(null===a)return null;var e=a;return r.map(function(n){return{data:l(n,e),item:n}})},[r,a,l]);return e.useMemo(function(){return null===c||null===d||null===s||null===w?null:{windowMargin:c,gridGap:d,columnCount:s,entries:w}},[c,d,s,w])}(s,c),w=function(n){return e.useMemo(function(){if(null===n)return null;var e=1,t=0,r=0,u=n.entries.map(function(u,i){var o=u.data.key,l=i%n.columnCount+1,f=Math.floor(i/n.columnCount)+1;f!==e&&(e=f,t+=r+n.gridGap,r=0);var c=t,d=Math.round(u.data.height);return r=Math.max(r,d),{key:o,columnNumber:l,rowNumber:f,offset:c,height:d,item:u.item}});return{totalHeight:t+r,cells:u}},[n])}(a),m=function(n,t,r){return e.useMemo(function(){if(null===r||null===t)return null;var e=[],u=null,i=null;if(null!==n.elementWindowOffset)for(var o=n.elementWindowOffset,l=0,f=r.cells;l<f.length;l+=1){var c=f[l],d=o+c.offset,s=n.windowScroll.y;d>s+n.windowSize.height+t.windowMargin||d+c.height<s-t.windowMargin||(null===u&&(u=c.rowNumber),c.rowNumber===u&&(i=i?Math.min(i,c.offset):c.offset),e.push(c))}return{cellsToRender:e,firstRenderedRowNumber:u,firstRenderedRowOffset:i}},[r,t,n.windowScroll.y,n.windowSize.height,n.elementWindowOffset])}(s,a,w),h=function(n,t){var r=e.useState(!1),u=r[0],i=r[1];return e.useEffect(function(){var e=new IntersectionObserver(function(e){i(e[0].isIntersecting)},{rootMargin:t});return n.current&&e.observe(n.current),function(){return e.disconnect()}},[n,t]),u}(d,(null!==a?a.windowMargin:0)+"px");return n.createElement("div",{ref:d,style:{boxSizing:"border-box",height:null!==w?w.totalHeight:void 0,paddingTop:null!==m&&null!==m.firstRenderedRowOffset?m.firstRenderedRowOffset:0}},h&&n.createElement("div",{style:{display:"grid",gridTemplateColumns:null!==a?"repeat("+a.columnCount+", "+(c.fixedColumnWidth?c.fixedColumnWidth+"px":"1fr")+")":void 0,gridGap:a?a.gridGap:void 0,justifyContent:"center",alignItems:"center"}},null!==m&&m.cellsToRender.map(function(e){return n.createElement("div",{key:e.key,style:{height:e.height,gridColumnStart:""+e.columnNumber,gridRowStart:f(e,m)}},c.renderItem(e.item))})))}});
//# sourceMappingURL=GridList.umd.js.map
